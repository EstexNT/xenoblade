.include "macros.inc"

.section .text, "ax"  # 0x80039220 - 0x804F5900

.fn MPVFRM_Init, global
/* 803A62C4 0036F884  4E 80 00 20 */	blr 
.endfn MPVFRM_Init

.fn MPV_DecodeFrmSj, global
/* 803A62C8 0036F888  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 803A62CC 0036F88C  7C 08 02 A6 */	mflr r0
/* 803A62D0 0036F890  90 01 00 24 */	stw r0, 0x24(r1)
/* 803A62D4 0036F894  BF 61 00 0C */	stmw r27, 0xc(r1)
/* 803A62D8 0036F898  7C 7F 1B 78 */	mr r31, r3
/* 803A62DC 0036F89C  7C 9B 23 78 */	mr r27, r4
/* 803A62E0 0036F8A0  7C BC 2B 78 */	mr r28, r5
/* 803A62E4 0036F8A4  48 00 26 F5 */	bl MPVLIB_CheckHn
/* 803A62E8 0036F8A8  2C 03 00 00 */	cmpwi r3, 0
/* 803A62EC 0036F8AC  41 82 00 18 */	beq .L_803A6304
/* 803A62F0 0036F8B0  3C 80 FF 03 */	lis r4, 0xFF030209@ha
/* 803A62F4 0036F8B4  38 60 00 00 */	li r3, 0
/* 803A62F8 0036F8B8  38 84 02 09 */	addi r4, r4, 0xFF030209@l
/* 803A62FC 0036F8BC  4B FF FF 41 */	bl MPVERR_SetCode
/* 803A6300 0036F8C0  48 00 00 E4 */	b .L_803A63E4
.L_803A6304:
/* 803A6304 0036F8C4  80 1F 0C FC */	lwz r0, 0xcfc(r31)
/* 803A6308 0036F8C8  2C 00 00 02 */	cmpwi r0, 2
/* 803A630C 0036F8CC  40 82 00 18 */	bne .L_803A6324
/* 803A6310 0036F8D0  7F E3 FB 78 */	mr r3, r31
/* 803A6314 0036F8D4  7F 64 DB 78 */	mr r4, r27
/* 803A6318 0036F8D8  7F 85 E3 78 */	mr r5, r28
/* 803A631C 0036F8DC  48 00 8C D1 */	bl MPVM2V_DecodeFrm
/* 803A6320 0036F8E0  48 00 00 C4 */	b .L_803A63E4
.L_803A6324:
/* 803A6324 0036F8E4  38 00 00 08 */	li r0, 8
/* 803A6328 0036F8E8  38 BF 0B EC */	addi r5, r31, 0xbec
/* 803A632C 0036F8EC  38 9C FF FC */	addi r4, r28, -4
/* 803A6330 0036F8F0  83 DF 0B E8 */	lwz r30, 0xbe8(r31)
/* 803A6334 0036F8F4  83 BF 0B EC */	lwz r29, 0xbec(r31)
/* 803A6338 0036F8F8  7C 09 03 A6 */	mtctr r0
.L_803A633C:
/* 803A633C 0036F8FC  80 64 00 04 */	lwz r3, 4(r4)
/* 803A6340 0036F900  84 04 00 08 */	lwzu r0, 8(r4)
/* 803A6344 0036F904  90 65 00 04 */	stw r3, 4(r5)
/* 803A6348 0036F908  94 05 00 08 */	stwu r0, 8(r5)
/* 803A634C 0036F90C  42 00 FF F0 */	bdnz .L_803A633C
/* 803A6350 0036F910  80 04 00 04 */	lwz r0, 4(r4)
/* 803A6354 0036F914  7F E3 FB 78 */	mr r3, r31
/* 803A6358 0036F918  90 05 00 04 */	stw r0, 4(r5)
/* 803A635C 0036F91C  48 00 61 C1 */	bl MPVUMC_InitOutRfb
/* 803A6360 0036F920  7F E3 FB 78 */	mr r3, r31
/* 803A6364 0036F924  4B FF E3 41 */	bl MPVCMC_InitMcOiRt
/* 803A6368 0036F928  7F E3 FB 78 */	mr r3, r31
/* 803A636C 0036F92C  4B FF E3 79 */	bl MPVCMC_SetCcnt
/* 803A6370 0036F930  7F E3 FB 78 */	mr r3, r31
/* 803A6374 0036F934  4B FF DC 69 */	bl MPVCDEC_StartFrame
/* 803A6378 0036F938  7F E3 FB 78 */	mr r3, r31
/* 803A637C 0036F93C  4B FF DB 85 */	bl MPVBDEC_StartFrame
/* 803A6380 0036F940  7F E3 FB 78 */	mr r3, r31
/* 803A6384 0036F944  7F 64 DB 78 */	mr r4, r27
/* 803A6388 0036F948  48 01 33 7D */	bl MPVSL_DecPicture
/* 803A638C 0036F94C  7C 7B 1B 78 */	mr r27, r3
/* 803A6390 0036F950  7F E3 FB 78 */	mr r3, r31
/* 803A6394 0036F954  48 00 62 B9 */	bl MPVUMC_EndOfFrame
/* 803A6398 0036F958  80 7C 00 34 */	lwz r3, 0x34(r28)
/* 803A639C 0036F95C  38 00 00 10 */	li r0, 0x10
/* 803A63A0 0036F960  38 9F 0B 58 */	addi r4, r31, 0xb58
/* 803A63A4 0036F964  38 A3 FF FC */	addi r5, r3, -4
/* 803A63A8 0036F968  7C 09 03 A6 */	mtctr r0
.L_803A63AC:
/* 803A63AC 0036F96C  80 64 00 04 */	lwz r3, 4(r4)
/* 803A63B0 0036F970  84 04 00 08 */	lwzu r0, 8(r4)
/* 803A63B4 0036F974  90 65 00 04 */	stw r3, 4(r5)
/* 803A63B8 0036F978  94 05 00 08 */	stwu r0, 8(r5)
/* 803A63BC 0036F97C  42 00 FF F0 */	bdnz .L_803A63AC
/* 803A63C0 0036F980  80 1F 0B E8 */	lwz r0, 0xbe8(r31)
/* 803A63C4 0036F984  7F 63 DB 78 */	mr r3, r27
/* 803A63C8 0036F988  7C 1E 00 50 */	subf r0, r30, r0
/* 803A63CC 0036F98C  90 1C 00 38 */	stw r0, 0x38(r28)
/* 803A63D0 0036F990  80 1F 0B EC */	lwz r0, 0xbec(r31)
/* 803A63D4 0036F994  7C 1D 00 50 */	subf r0, r29, r0
/* 803A63D8 0036F998  90 1C 00 3C */	stw r0, 0x3c(r28)
/* 803A63DC 0036F99C  A8 1F 0C 30 */	lha r0, 0xc30(r31)
/* 803A63E0 0036F9A0  B0 1C 00 40 */	sth r0, 0x40(r28)
.L_803A63E4:
/* 803A63E4 0036F9A4  BB 61 00 0C */	lmw r27, 0xc(r1)
/* 803A63E8 0036F9A8  80 01 00 24 */	lwz r0, 0x24(r1)
/* 803A63EC 0036F9AC  7C 08 03 A6 */	mtlr r0
/* 803A63F0 0036F9B0  38 21 00 20 */	addi r1, r1, 0x20
/* 803A63F4 0036F9B4  4E 80 00 20 */	blr 
.endfn MPV_DecodeFrmSj

.fn MPV_SkipFrmSj, global
/* 803A63F8 0036F9B8  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 803A63FC 0036F9BC  7C 08 02 A6 */	mflr r0
/* 803A6400 0036F9C0  90 01 00 24 */	stw r0, 0x24(r1)
/* 803A6404 0036F9C4  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 803A6408 0036F9C8  7C 7F 1B 78 */	mr r31, r3
/* 803A640C 0036F9CC  93 C1 00 18 */	stw r30, 0x18(r1)
/* 803A6410 0036F9D0  93 A1 00 14 */	stw r29, 0x14(r1)
/* 803A6414 0036F9D4  7C 9D 23 78 */	mr r29, r4
/* 803A6418 0036F9D8  48 00 25 C1 */	bl MPVLIB_CheckHn
/* 803A641C 0036F9DC  2C 03 00 00 */	cmpwi r3, 0
/* 803A6420 0036F9E0  41 82 00 18 */	beq .L_803A6438
/* 803A6424 0036F9E4  3C 80 FF 03 */	lis r4, 0xFF03020A@ha
/* 803A6428 0036F9E8  38 60 00 00 */	li r3, 0
/* 803A642C 0036F9EC  38 84 02 0A */	addi r4, r4, 0xFF03020A@l
/* 803A6430 0036F9F0  4B FF FE 0D */	bl MPVERR_SetCode
/* 803A6434 0036F9F4  48 00 00 50 */	b .L_803A6484
.L_803A6438:
/* 803A6438 0036F9F8  3C 60 FF 03 */	lis r3, 0xFF030305@ha
/* 803A643C 0036F9FC  3B C3 03 05 */	addi r30, r3, 0xFF030305@l
.L_803A6440:
/* 803A6440 0036FA00  7F A3 EB 78 */	mr r3, r29
/* 803A6444 0036FA04  48 00 18 29 */	bl MPV_GoNextDelimSj
/* 803A6448 0036FA08  2C 03 00 00 */	cmpwi r3, 0
/* 803A644C 0036FA0C  41 82 00 2C */	beq .L_803A6478
/* 803A6450 0036FA10  70 60 00 CC */	andi. r0, r3, 0xcc
/* 803A6454 0036FA14  41 82 00 0C */	beq .L_803A6460
/* 803A6458 0036FA18  3B C0 00 00 */	li r30, 0
/* 803A645C 0036FA1C  48 00 00 1C */	b .L_803A6478
.L_803A6460:
/* 803A6460 0036FA20  7F A3 EB 78 */	mr r3, r29
/* 803A6464 0036FA24  38 80 00 01 */	li r4, 1
/* 803A6468 0036FA28  38 A0 00 04 */	li r5, 4
/* 803A646C 0036FA2C  48 00 1A 59 */	bl MPV_MoveChunk
/* 803A6470 0036FA30  2C 03 00 04 */	cmpwi r3, 4
/* 803A6474 0036FA34  41 82 FF CC */	beq .L_803A6440
.L_803A6478:
/* 803A6478 0036FA38  7F E3 FB 78 */	mr r3, r31
/* 803A647C 0036FA3C  7F C4 F3 78 */	mr r4, r30
/* 803A6480 0036FA40  4B FF FD BD */	bl MPVERR_SetCode
.L_803A6484:
/* 803A6484 0036FA44  80 01 00 24 */	lwz r0, 0x24(r1)
/* 803A6488 0036FA48  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 803A648C 0036FA4C  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 803A6490 0036FA50  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 803A6494 0036FA54  7C 08 03 A6 */	mtlr r0
/* 803A6498 0036FA58  38 21 00 20 */	addi r1, r1, 0x20
/* 803A649C 0036FA5C  4E 80 00 20 */	blr 
.endfn MPV_SkipFrmSj

.fn MPV_RequestStop, global
/* 803A64A0 0036FA60  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 803A64A4 0036FA64  7C 08 02 A6 */	mflr r0
/* 803A64A8 0036FA68  90 01 00 14 */	stw r0, 0x14(r1)
/* 803A64AC 0036FA6C  93 E1 00 0C */	stw r31, 0xc(r1)
/* 803A64B0 0036FA70  7C 7F 1B 78 */	mr r31, r3
/* 803A64B4 0036FA74  48 00 25 25 */	bl MPVLIB_CheckHn
/* 803A64B8 0036FA78  2C 03 00 00 */	cmpwi r3, 0
/* 803A64BC 0036FA7C  41 82 00 18 */	beq .L_803A64D4
/* 803A64C0 0036FA80  3C 80 FF 03 */	lis r4, 0xFF030211@ha
/* 803A64C4 0036FA84  38 60 00 00 */	li r3, 0
/* 803A64C8 0036FA88  38 84 02 11 */	addi r4, r4, 0xFF030211@l
/* 803A64CC 0036FA8C  4B FF FD 71 */	bl MPVERR_SetCode
/* 803A64D0 0036FA90  48 00 00 20 */	b .L_803A64F0
.L_803A64D4:
/* 803A64D4 0036FA94  80 1F 0C FC */	lwz r0, 0xcfc(r31)
/* 803A64D8 0036FA98  38 60 00 01 */	li r3, 1
/* 803A64DC 0036FA9C  90 7F 0D A8 */	stw r3, 0xda8(r31)
/* 803A64E0 0036FAA0  2C 00 00 02 */	cmpwi r0, 2
/* 803A64E4 0036FAA4  40 82 00 0C */	bne .L_803A64F0
/* 803A64E8 0036FAA8  7F E3 FB 78 */	mr r3, r31
/* 803A64EC 0036FAAC  48 00 8B 09 */	bl MPVM2V_RequestStop
.L_803A64F0:
/* 803A64F0 0036FAB0  80 01 00 14 */	lwz r0, 0x14(r1)
/* 803A64F4 0036FAB4  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 803A64F8 0036FAB8  7C 08 03 A6 */	mtlr r0
/* 803A64FC 0036FABC  38 21 00 10 */	addi r1, r1, 0x10
/* 803A6500 0036FAC0  4E 80 00 20 */	blr 
.endfn MPV_RequestStop
