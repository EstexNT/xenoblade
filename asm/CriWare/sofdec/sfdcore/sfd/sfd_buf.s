.include "macros.inc"
.file "CriWare/sofdec/sfdcore/sfd/sfd_buf.o"

# 0x803BED00 - 0x803BFD38
.text
.balign 4

.fn SFBUF_Init, global
/* 803BED00 003882C0  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 803BED04 003882C4  7C 08 02 A6 */	mflr r0
/* 803BED08 003882C8  38 80 00 08 */	li r4, 0x8
/* 803BED0C 003882CC  38 A0 00 00 */	li r5, 0x0
/* 803BED10 003882D0  90 01 00 24 */	stw r0, 0x24(r1)
/* 803BED14 003882D4  38 61 00 08 */	addi r3, r1, 0x8
/* 803BED18 003882D8  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 803BED1C 003882DC  4B FD 56 8D */	bl SJRBF_Create
/* 803BED20 003882E0  80 83 00 00 */	lwz r4, 0x0(r3)
/* 803BED24 003882E4  7C 7F 1B 78 */	mr r31, r3
/* 803BED28 003882E8  81 84 00 10 */	lwz r12, 0x10(r4)
/* 803BED2C 003882EC  7D 89 03 A6 */	mtctr r12
/* 803BED30 003882F0  4E 80 04 21 */	bctrl
/* 803BED34 003882F4  3C 80 80 61 */	lis r4, sfbuf_sjrbf_uuid@ha
/* 803BED38 003882F8  90 64 A2 C8 */	stw r3, sfbuf_sjrbf_uuid@l(r4)
/* 803BED3C 003882FC  7F E3 FB 78 */	mr r3, r31
/* 803BED40 00388300  80 9F 00 00 */	lwz r4, 0x0(r31)
/* 803BED44 00388304  81 84 00 0C */	lwz r12, 0xc(r4)
/* 803BED48 00388308  7D 89 03 A6 */	mtctr r12
/* 803BED4C 0038830C  4E 80 04 21 */	bctrl
/* 803BED50 00388310  38 61 00 08 */	addi r3, r1, 0x8
/* 803BED54 00388314  38 80 00 08 */	li r4, 0x8
/* 803BED58 00388318  4B FD 47 FD */	bl SJMEM_Create
/* 803BED5C 0038831C  80 83 00 00 */	lwz r4, 0x0(r3)
/* 803BED60 00388320  7C 7F 1B 78 */	mr r31, r3
/* 803BED64 00388324  81 84 00 10 */	lwz r12, 0x10(r4)
/* 803BED68 00388328  7D 89 03 A6 */	mtctr r12
/* 803BED6C 0038832C  4E 80 04 21 */	bctrl
/* 803BED70 00388330  3C 80 80 61 */	lis r4, sfbuf_sjmem_uuid@ha
/* 803BED74 00388334  90 64 A2 CC */	stw r3, sfbuf_sjmem_uuid@l(r4)
/* 803BED78 00388338  7F E3 FB 78 */	mr r3, r31
/* 803BED7C 0038833C  80 9F 00 00 */	lwz r4, 0x0(r31)
/* 803BED80 00388340  81 84 00 0C */	lwz r12, 0xc(r4)
/* 803BED84 00388344  7D 89 03 A6 */	mtctr r12
/* 803BED88 00388348  4E 80 04 21 */	bctrl
/* 803BED8C 0038834C  80 01 00 24 */	lwz r0, 0x24(r1)
/* 803BED90 00388350  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 803BED94 00388354  7C 08 03 A6 */	mtlr r0
/* 803BED98 00388358  38 21 00 20 */	addi r1, r1, 0x20
/* 803BED9C 0038835C  4E 80 00 20 */	blr
.endfn SFBUF_Init

.fn SFBUF_InitHn, global
/* 803BEDA0 00388360  94 21 FF C0 */	stwu r1, -0x40(r1)
/* 803BEDA4 00388364  7C 08 02 A6 */	mflr r0
/* 803BEDA8 00388368  7C A9 2B 78 */	mr r9, r5
/* 803BEDAC 0038836C  38 C0 00 00 */	li r6, 0x0
/* 803BEDB0 00388370  90 01 00 44 */	stw r0, 0x44(r1)
/* 803BEDB4 00388374  93 E1 00 3C */	stw r31, 0x3c(r1)
/* 803BEDB8 00388378  7C 9F 23 78 */	mr r31, r4
/* 803BEDBC 0038837C  38 81 00 08 */	addi r4, r1, 0x8
/* 803BEDC0 00388380  93 C1 00 38 */	stw r30, 0x38(r1)
/* 803BEDC4 00388384  3B C5 00 08 */	addi r30, r5, 0x8
/* 803BEDC8 00388388  93 A1 00 34 */	stw r29, 0x34(r1)
/* 803BEDCC 0038838C  7C 7D 1B 78 */	mr r29, r3
/* 803BEDD0 00388390  7F E3 FB 78 */	mr r3, r31
/* 803BEDD4 00388394  80 E5 00 04 */	lwz r7, 0x4(r5)
/* 803BEDD8 00388398  7F C5 F3 78 */	mr r5, r30
/* 803BEDDC 0038839C  90 E1 00 08 */	stw r7, 0x8(r1)
/* 803BEDE0 003883A0  80 1E 00 00 */	lwz r0, 0x0(r30)
/* 803BEDE4 003883A4  7C E7 02 14 */	add r7, r7, r0
/* 803BEDE8 003883A8  90 E1 00 0C */	stw r7, 0xc(r1)
/* 803BEDEC 003883AC  80 1E 00 04 */	lwz r0, 0x4(r30)
/* 803BEDF0 003883B0  7C E7 02 14 */	add r7, r7, r0
/* 803BEDF4 003883B4  90 E1 00 10 */	stw r7, 0x10(r1)
/* 803BEDF8 003883B8  80 1E 00 08 */	lwz r0, 0x8(r30)
/* 803BEDFC 003883BC  7C E7 02 14 */	add r7, r7, r0
/* 803BEE00 003883C0  90 E1 00 14 */	stw r7, 0x14(r1)
/* 803BEE04 003883C4  80 1E 00 0C */	lwz r0, 0xc(r30)
/* 803BEE08 003883C8  7C E7 02 14 */	add r7, r7, r0
/* 803BEE0C 003883CC  90 E1 00 18 */	stw r7, 0x18(r1)
/* 803BEE10 003883D0  80 1E 00 10 */	lwz r0, 0x10(r30)
/* 803BEE14 003883D4  7C E7 02 14 */	add r7, r7, r0
/* 803BEE18 003883D8  90 E1 00 1C */	stw r7, 0x1c(r1)
/* 803BEE1C 003883DC  80 1E 00 14 */	lwz r0, 0x14(r30)
/* 803BEE20 003883E0  7C E7 02 14 */	add r7, r7, r0
/* 803BEE24 003883E4  90 E1 00 20 */	stw r7, 0x20(r1)
/* 803BEE28 003883E8  80 1E 00 18 */	lwz r0, 0x18(r30)
/* 803BEE2C 003883EC  7C E7 02 14 */	add r7, r7, r0
/* 803BEE30 003883F0  90 E1 00 24 */	stw r7, 0x24(r1)
/* 803BEE34 003883F4  81 1E 00 00 */	lwz r8, 0x0(r30)
/* 803BEE38 003883F8  80 E9 00 2C */	lwz r7, 0x2c(r9)
/* 803BEE3C 003883FC  7C 08 3B D6 */	divw r0, r8, r7
/* 803BEE40 00388400  7C 00 39 D6 */	mullw r0, r0, r7
/* 803BEE44 00388404  7C E0 40 50 */	subf r7, r0, r8
/* 803BEE48 00388408  48 00 01 29 */	bl sfbuf_InitRingSj
/* 803BEE4C 0038840C  2C 03 00 00 */	cmpwi r3, 0x0
/* 803BEE50 00388410  41 82 00 08 */	beq .L_803BEE58
/* 803BEE54 00388414  48 00 01 00 */	b .L_803BEF54
.L_803BEE58:
/* 803BEE58 00388418  7F E3 FB 78 */	mr r3, r31
/* 803BEE5C 0038841C  7F C5 F3 78 */	mr r5, r30
/* 803BEE60 00388420  38 81 00 08 */	addi r4, r1, 0x8
/* 803BEE64 00388424  38 C0 00 01 */	li r6, 0x1
/* 803BEE68 00388428  38 E0 08 00 */	li r7, 0x800
/* 803BEE6C 0038842C  48 00 01 05 */	bl sfbuf_InitRingSj
/* 803BEE70 00388430  2C 03 00 00 */	cmpwi r3, 0x0
/* 803BEE74 00388434  41 82 00 08 */	beq .L_803BEE7C
/* 803BEE78 00388438  48 00 00 DC */	b .L_803BEF54
.L_803BEE7C:
/* 803BEE7C 0038843C  7F E3 FB 78 */	mr r3, r31
/* 803BEE80 00388440  7F C5 F3 78 */	mr r5, r30
/* 803BEE84 00388444  38 81 00 08 */	addi r4, r1, 0x8
/* 803BEE88 00388448  38 C0 00 02 */	li r6, 0x2
/* 803BEE8C 0038844C  38 E0 00 00 */	li r7, 0x0
/* 803BEE90 00388450  48 00 00 E1 */	bl sfbuf_InitRingSj
/* 803BEE94 00388454  2C 03 00 00 */	cmpwi r3, 0x0
/* 803BEE98 00388458  41 82 00 08 */	beq .L_803BEEA0
/* 803BEE9C 0038845C  48 00 00 B8 */	b .L_803BEF54
.L_803BEEA0:
/* 803BEEA0 00388460  7F A3 EB 78 */	mr r3, r29
/* 803BEEA4 00388464  7F E4 FB 78 */	mr r4, r31
/* 803BEEA8 00388468  7F C6 F3 78 */	mr r6, r30
/* 803BEEAC 0038846C  38 A1 00 08 */	addi r5, r1, 0x8
/* 803BEEB0 00388470  38 E0 00 03 */	li r7, 0x3
/* 803BEEB4 00388474  48 00 02 ED */	bl sfbuf_InitVfrmBuf
/* 803BEEB8 00388478  7F E3 FB 78 */	mr r3, r31
/* 803BEEBC 0038847C  7F C5 F3 78 */	mr r5, r30
/* 803BEEC0 00388480  38 81 00 08 */	addi r4, r1, 0x8
/* 803BEEC4 00388484  38 C0 00 04 */	li r6, 0x4
/* 803BEEC8 00388488  48 00 03 B9 */	bl sfbuf_InitAringBuf
/* 803BEECC 0038848C  7F A3 EB 78 */	mr r3, r29
/* 803BEED0 00388490  7F E4 FB 78 */	mr r4, r31
/* 803BEED4 00388494  7F C6 F3 78 */	mr r6, r30
/* 803BEED8 00388498  38 A1 00 08 */	addi r5, r1, 0x8
/* 803BEEDC 0038849C  38 E0 00 05 */	li r7, 0x5
/* 803BEEE0 003884A0  48 00 02 C1 */	bl sfbuf_InitVfrmBuf
/* 803BEEE4 003884A4  7F E3 FB 78 */	mr r3, r31
/* 803BEEE8 003884A8  7F C5 F3 78 */	mr r5, r30
/* 803BEEEC 003884AC  38 81 00 08 */	addi r4, r1, 0x8
/* 803BEEF0 003884B0  38 C0 00 06 */	li r6, 0x6
/* 803BEEF4 003884B4  48 00 03 8D */	bl sfbuf_InitAringBuf
/* 803BEEF8 003884B8  38 80 00 00 */	li r4, 0x0
/* 803BEEFC 003884BC  38 00 00 09 */	li r0, 0x9
/* 803BEF00 003884C0  38 60 00 03 */	li r3, 0x3
/* 803BEF04 003884C4  38 A0 00 01 */	li r5, 0x1
/* 803BEF08 003884C8  90 7F 03 2C */	stw r3, 0x32c(r31)
/* 803BEF0C 003884CC  38 60 00 00 */	li r3, 0x0
/* 803BEF10 003884D0  90 BF 03 30 */	stw r5, 0x330(r31)
/* 803BEF14 003884D4  90 9F 03 34 */	stw r4, 0x334(r31)
/* 803BEF18 003884D8  90 9F 03 38 */	stw r4, 0x338(r31)
/* 803BEF1C 003884DC  90 1F 03 78 */	stw r0, 0x378(r31)
/* 803BEF20 003884E0  90 1F 03 7C */	stw r0, 0x37c(r31)
/* 803BEF24 003884E4  90 9F 03 3C */	stw r4, 0x33c(r31)
/* 803BEF28 003884E8  90 9F 03 40 */	stw r4, 0x340(r31)
/* 803BEF2C 003884EC  90 9F 03 44 */	stw r4, 0x344(r31)
/* 803BEF30 003884F0  90 9F 03 48 */	stw r4, 0x348(r31)
/* 803BEF34 003884F4  90 9F 03 4C */	stw r4, 0x34c(r31)
/* 803BEF38 003884F8  90 9F 03 50 */	stw r4, 0x350(r31)
/* 803BEF3C 003884FC  90 9F 03 54 */	stw r4, 0x354(r31)
/* 803BEF40 00388500  90 9F 03 58 */	stw r4, 0x358(r31)
/* 803BEF44 00388504  90 9F 03 5C */	stw r4, 0x35c(r31)
/* 803BEF48 00388508  90 9F 03 60 */	stw r4, 0x360(r31)
/* 803BEF4C 0038850C  90 9F 03 64 */	stw r4, 0x364(r31)
/* 803BEF50 00388510  90 9F 03 68 */	stw r4, 0x368(r31)
.L_803BEF54:
/* 803BEF54 00388514  80 01 00 44 */	lwz r0, 0x44(r1)
/* 803BEF58 00388518  83 E1 00 3C */	lwz r31, 0x3c(r1)
/* 803BEF5C 0038851C  83 C1 00 38 */	lwz r30, 0x38(r1)
/* 803BEF60 00388520  83 A1 00 34 */	lwz r29, 0x34(r1)
/* 803BEF64 00388524  7C 08 03 A6 */	mtlr r0
/* 803BEF68 00388528  38 21 00 40 */	addi r1, r1, 0x40
/* 803BEF6C 0038852C  4E 80 00 20 */	blr
.endfn SFBUF_InitHn

.fn sfbuf_InitRingSj, global
/* 803BEF70 00388530  94 21 FF C0 */	stwu r1, -0x40(r1)
/* 803BEF74 00388534  7C 08 02 A6 */	mflr r0
/* 803BEF78 00388538  54 C8 10 3A */	slwi r8, r6, 2
/* 803BEF7C 0038853C  90 01 00 44 */	stw r0, 0x44(r1)
/* 803BEF80 00388540  1C 06 00 74 */	mulli r0, r6, 0x74
/* 803BEF84 00388544  93 E1 00 3C */	stw r31, 0x3c(r1)
/* 803BEF88 00388548  7F E3 02 14 */	add r31, r3, r0
/* 803BEF8C 0038854C  93 C1 00 38 */	stw r30, 0x38(r1)
/* 803BEF90 00388550  93 A1 00 34 */	stw r29, 0x34(r1)
/* 803BEF94 00388554  93 81 00 30 */	stw r28, 0x30(r1)
/* 803BEF98 00388558  7C A5 40 2E */	lwzx r5, r5, r8
/* 803BEF9C 0038855C  2C 05 00 00 */	cmpwi r5, 0x0
/* 803BEFA0 00388560  40 82 00 10 */	bne .L_803BEFB0
/* 803BEFA4 00388564  3B A0 00 00 */	li r29, 0x0
/* 803BEFA8 00388568  3B 80 00 04 */	li r28, 0x4
/* 803BEFAC 0038856C  48 00 00 E4 */	b .L_803BF090
.L_803BEFB0:
/* 803BEFB0 00388570  7C 07 28 51 */	subf. r0, r7, r5
/* 803BEFB4 00388574  7C 64 40 2E */	lwzx r3, r4, r8
/* 803BEFB8 00388578  3B C0 00 00 */	li r30, 0x0
/* 803BEFBC 0038857C  3B A0 00 01 */	li r29, 0x1
/* 803BEFC0 00388580  93 C1 00 10 */	stw r30, 0x10(r1)
/* 803BEFC4 00388584  3B 80 00 05 */	li r28, 0x5
/* 803BEFC8 00388588  90 01 00 1C */	stw r0, 0x1c(r1)
/* 803BEFCC 0038858C  90 61 00 18 */	stw r3, 0x18(r1)
/* 803BEFD0 00388590  41 81 00 18 */	bgt .L_803BEFE8
/* 803BEFD4 00388594  3C 80 FF 00 */	lis r4, 0xff00
/* 803BEFD8 00388598  38 60 00 00 */	li r3, 0x0
/* 803BEFDC 0038859C  38 84 04 0C */	addi r4, r4, 0x40c
/* 803BEFE0 003885A0  48 00 1C 75 */	bl SFLIB_SetErr
/* 803BEFE4 003885A4  48 00 00 3C */	b .L_803BF020
.L_803BEFE8:
/* 803BEFE8 003885A8  90 E1 00 20 */	stw r7, 0x20(r1)
/* 803BEFEC 003885AC  7C 04 03 78 */	mr r4, r0
/* 803BEFF0 003885B0  7C E5 3B 78 */	mr r5, r7
/* 803BEFF4 003885B4  93 C1 00 24 */	stw r30, 0x24(r1)
/* 803BEFF8 003885B8  4B FD 53 B1 */	bl SJRBF_Create
/* 803BEFFC 003885BC  2C 03 00 00 */	cmpwi r3, 0x0
/* 803BF000 003885C0  90 61 00 14 */	stw r3, 0x14(r1)
/* 803BF004 003885C4  40 82 00 18 */	bne .L_803BF01C
/* 803BF008 003885C8  3C 80 FF 00 */	lis r4, 0xff00
/* 803BF00C 003885CC  38 60 00 00 */	li r3, 0x0
/* 803BF010 003885D0  38 84 04 0A */	addi r4, r4, 0x40a
/* 803BF014 003885D4  48 00 1C 41 */	bl SFLIB_SetErr
/* 803BF018 003885D8  48 00 00 08 */	b .L_803BF020
.L_803BF01C:
/* 803BF01C 003885DC  7F C3 F3 78 */	mr r3, r30
.L_803BF020:
/* 803BF020 003885E0  2C 03 00 00 */	cmpwi r3, 0x0
/* 803BF024 003885E4  41 82 00 08 */	beq .L_803BF02C
/* 803BF028 003885E8  48 00 00 8C */	b .L_803BF0B4
.L_803BF02C:
/* 803BF02C 003885EC  38 61 00 08 */	addi r3, r1, 0x8
/* 803BF030 003885F0  48 00 1E 09 */	bl SFLIB_LockCs
/* 803BF034 003885F4  38 00 00 01 */	li r0, 0x1
/* 803BF038 003885F8  80 A1 00 10 */	lwz r5, 0x10(r1)
/* 803BF03C 003885FC  90 1F 00 04 */	stw r0, 0x4(r31)
/* 803BF040 00388600  38 00 00 00 */	li r0, 0x0
/* 803BF044 00388604  80 81 00 14 */	lwz r4, 0x14(r1)
/* 803BF048 00388608  38 61 00 08 */	addi r3, r1, 0x8
/* 803BF04C 0038860C  90 BF 00 10 */	stw r5, 0x10(r31)
/* 803BF050 00388610  80 A1 00 18 */	lwz r5, 0x18(r1)
/* 803BF054 00388614  90 9F 00 14 */	stw r4, 0x14(r31)
/* 803BF058 00388618  80 81 00 1C */	lwz r4, 0x1c(r1)
/* 803BF05C 0038861C  90 BF 00 18 */	stw r5, 0x18(r31)
/* 803BF060 00388620  80 A1 00 20 */	lwz r5, 0x20(r1)
/* 803BF064 00388624  90 9F 00 1C */	stw r4, 0x1c(r31)
/* 803BF068 00388628  80 81 00 24 */	lwz r4, 0x24(r1)
/* 803BF06C 0038862C  90 BF 00 20 */	stw r5, 0x20(r31)
/* 803BF070 00388630  90 9F 00 24 */	stw r4, 0x24(r31)
/* 803BF074 00388634  90 1F 00 28 */	stw r0, 0x28(r31)
/* 803BF078 00388638  90 1F 00 2C */	stw r0, 0x2c(r31)
/* 803BF07C 0038863C  90 1F 00 30 */	stw r0, 0x30(r31)
/* 803BF080 00388640  90 1F 00 34 */	stw r0, 0x34(r31)
/* 803BF084 00388644  48 00 1D B9 */	bl SFLIB_UnlockCs
/* 803BF088 00388648  38 7F 00 38 */	addi r3, r31, 0x38
/* 803BF08C 0038864C  48 00 C7 CD */	bl SFPTS_InitPtsQue
.L_803BF090:
/* 803BF090 00388650  93 9F 00 00 */	stw r28, 0x0(r31)
/* 803BF094 00388654  38 80 00 00 */	li r4, 0x0
/* 803BF098 00388658  38 00 00 09 */	li r0, 0x9
/* 803BF09C 0038865C  38 60 00 00 */	li r3, 0x0
/* 803BF0A0 00388660  93 BF 00 04 */	stw r29, 0x4(r31)
/* 803BF0A4 00388664  90 9F 00 08 */	stw r4, 0x8(r31)
/* 803BF0A8 00388668  90 9F 00 0C */	stw r4, 0xc(r31)
/* 803BF0AC 0038866C  90 1F 00 4C */	stw r0, 0x4c(r31)
/* 803BF0B0 00388670  90 1F 00 50 */	stw r0, 0x50(r31)
.L_803BF0B4:
/* 803BF0B4 00388674  80 01 00 44 */	lwz r0, 0x44(r1)
/* 803BF0B8 00388678  83 E1 00 3C */	lwz r31, 0x3c(r1)
/* 803BF0BC 0038867C  83 C1 00 38 */	lwz r30, 0x38(r1)
/* 803BF0C0 00388680  83 A1 00 34 */	lwz r29, 0x34(r1)
/* 803BF0C4 00388684  83 81 00 30 */	lwz r28, 0x30(r1)
/* 803BF0C8 00388688  7C 08 03 A6 */	mtlr r0
/* 803BF0CC 0038868C  38 21 00 40 */	addi r1, r1, 0x40
/* 803BF0D0 00388690  4E 80 00 20 */	blr
.endfn sfbuf_InitRingSj

.fn SFBUF_DestroySj, global
/* 803BF0D4 00388694  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 803BF0D8 00388698  7C 08 02 A6 */	mflr r0
/* 803BF0DC 0038869C  90 01 00 14 */	stw r0, 0x14(r1)
/* 803BF0E0 003886A0  93 E1 00 0C */	stw r31, 0xc(r1)
/* 803BF0E4 003886A4  3B E3 13 C0 */	addi r31, r3, 0x13c0
/* 803BF0E8 003886A8  93 C1 00 08 */	stw r30, 0x8(r1)
/* 803BF0EC 003886AC  7C 7E 1B 78 */	mr r30, r3
/* 803BF0F0 003886B0  80 03 13 B0 */	lwz r0, 0x13b0(r3)
/* 803BF0F4 003886B4  2C 00 00 05 */	cmpwi r0, 0x5
/* 803BF0F8 003886B8  40 82 00 28 */	bne .L_803BF120
/* 803BF0FC 003886BC  80 7F 00 04 */	lwz r3, 0x4(r31)
/* 803BF100 003886C0  2C 03 00 00 */	cmpwi r3, 0x0
/* 803BF104 003886C4  41 82 00 1C */	beq .L_803BF120
/* 803BF108 003886C8  80 83 00 00 */	lwz r4, 0x0(r3)
/* 803BF10C 003886CC  81 84 00 0C */	lwz r12, 0xc(r4)
/* 803BF110 003886D0  7D 89 03 A6 */	mtctr r12
/* 803BF114 003886D4  4E 80 04 21 */	bctrl
/* 803BF118 003886D8  38 00 00 00 */	li r0, 0x0
/* 803BF11C 003886DC  90 1F 00 04 */	stw r0, 0x4(r31)
.L_803BF120:
/* 803BF120 003886E0  80 1E 14 24 */	lwz r0, 0x1424(r30)
/* 803BF124 003886E4  3B FE 14 34 */	addi r31, r30, 0x1434
/* 803BF128 003886E8  2C 00 00 05 */	cmpwi r0, 0x5
/* 803BF12C 003886EC  40 82 00 28 */	bne .L_803BF154
/* 803BF130 003886F0  80 7F 00 04 */	lwz r3, 0x4(r31)
/* 803BF134 003886F4  2C 03 00 00 */	cmpwi r3, 0x0
/* 803BF138 003886F8  41 82 00 1C */	beq .L_803BF154
/* 803BF13C 003886FC  80 83 00 00 */	lwz r4, 0x0(r3)
/* 803BF140 00388700  81 84 00 0C */	lwz r12, 0xc(r4)
/* 803BF144 00388704  7D 89 03 A6 */	mtctr r12
/* 803BF148 00388708  4E 80 04 21 */	bctrl
/* 803BF14C 0038870C  38 00 00 00 */	li r0, 0x0
/* 803BF150 00388710  90 1F 00 04 */	stw r0, 0x4(r31)
.L_803BF154:
/* 803BF154 00388714  80 1E 14 98 */	lwz r0, 0x1498(r30)
/* 803BF158 00388718  3B FE 14 A8 */	addi r31, r30, 0x14a8
/* 803BF15C 0038871C  2C 00 00 05 */	cmpwi r0, 0x5
/* 803BF160 00388720  40 82 00 28 */	bne .L_803BF188
/* 803BF164 00388724  80 7F 00 04 */	lwz r3, 0x4(r31)
/* 803BF168 00388728  2C 03 00 00 */	cmpwi r3, 0x0
/* 803BF16C 0038872C  41 82 00 1C */	beq .L_803BF188
/* 803BF170 00388730  80 83 00 00 */	lwz r4, 0x0(r3)
/* 803BF174 00388734  81 84 00 0C */	lwz r12, 0xc(r4)
/* 803BF178 00388738  7D 89 03 A6 */	mtctr r12
/* 803BF17C 0038873C  4E 80 04 21 */	bctrl
/* 803BF180 00388740  38 00 00 00 */	li r0, 0x0
/* 803BF184 00388744  90 1F 00 04 */	stw r0, 0x4(r31)
.L_803BF188:
/* 803BF188 00388748  80 01 00 14 */	lwz r0, 0x14(r1)
/* 803BF18C 0038874C  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 803BF190 00388750  83 C1 00 08 */	lwz r30, 0x8(r1)
/* 803BF194 00388754  7C 08 03 A6 */	mtlr r0
/* 803BF198 00388758  38 21 00 10 */	addi r1, r1, 0x10
/* 803BF19C 0038875C  4E 80 00 20 */	blr
.endfn SFBUF_DestroySj

.fn sfbuf_InitVfrmBuf, global
/* 803BF1A0 00388760  1D 27 00 74 */	mulli r9, r7, 0x74
/* 803BF1A4 00388764  54 EA 10 3A */	slwi r10, r7, 2
/* 803BF1A8 00388768  7D 06 50 2E */	lwzx r8, r6, r10
/* 803BF1AC 0038876C  38 E0 00 00 */	li r7, 0x0
/* 803BF1B0 00388770  38 63 17 50 */	addi r3, r3, 0x1750
/* 803BF1B4 00388774  7C 08 00 D0 */	neg r0, r8
/* 803BF1B8 00388778  7D 24 4A 14 */	add r9, r4, r9
/* 803BF1BC 0038877C  38 80 00 01 */	li r4, 0x1
/* 803BF1C0 00388780  7C 08 43 78 */	or r8, r0, r8
/* 803BF1C4 00388784  90 89 00 00 */	stw r4, 0x0(r9)
/* 803BF1C8 00388788  55 04 0F FE */	srwi r4, r8, 31
/* 803BF1CC 0038878C  38 00 00 09 */	li r0, 0x9
/* 803BF1D0 00388790  90 89 00 04 */	stw r4, 0x4(r9)
/* 803BF1D4 00388794  90 E9 00 08 */	stw r7, 0x8(r9)
/* 803BF1D8 00388798  90 E9 00 0C */	stw r7, 0xc(r9)
/* 803BF1DC 0038879C  90 09 00 4C */	stw r0, 0x4c(r9)
/* 803BF1E0 003887A0  90 09 00 50 */	stw r0, 0x50(r9)
/* 803BF1E4 003887A4  7C 05 50 2E */	lwzx r0, r5, r10
/* 803BF1E8 003887A8  90 09 00 10 */	stw r0, 0x10(r9)
/* 803BF1EC 003887AC  7C 06 50 2E */	lwzx r0, r6, r10
/* 803BF1F0 003887B0  90 09 00 14 */	stw r0, 0x14(r9)
/* 803BF1F4 003887B4  90 E9 00 18 */	stw r7, 0x18(r9)
/* 803BF1F8 003887B8  90 E9 00 1C */	stw r7, 0x1c(r9)
/* 803BF1FC 003887BC  90 69 00 20 */	stw r3, 0x20(r9)
/* 803BF200 003887C0  90 E3 00 00 */	stw r7, 0x0(r3)
/* 803BF204 003887C4  80 69 00 20 */	lwz r3, 0x20(r9)
/* 803BF208 003887C8  90 E3 00 88 */	stw r7, 0x88(r3)
/* 803BF20C 003887CC  80 69 00 20 */	lwz r3, 0x20(r9)
/* 803BF210 003887D0  90 E3 01 10 */	stw r7, 0x110(r3)
/* 803BF214 003887D4  80 69 00 20 */	lwz r3, 0x20(r9)
/* 803BF218 003887D8  90 E3 01 98 */	stw r7, 0x198(r3)
/* 803BF21C 003887DC  80 69 00 20 */	lwz r3, 0x20(r9)
/* 803BF220 003887E0  90 E3 02 20 */	stw r7, 0x220(r3)
/* 803BF224 003887E4  80 69 00 20 */	lwz r3, 0x20(r9)
/* 803BF228 003887E8  90 E3 02 A8 */	stw r7, 0x2a8(r3)
/* 803BF22C 003887EC  80 69 00 20 */	lwz r3, 0x20(r9)
/* 803BF230 003887F0  90 E3 03 30 */	stw r7, 0x330(r3)
/* 803BF234 003887F4  80 69 00 20 */	lwz r3, 0x20(r9)
/* 803BF238 003887F8  90 E3 03 B8 */	stw r7, 0x3b8(r3)
/* 803BF23C 003887FC  80 69 00 20 */	lwz r3, 0x20(r9)
/* 803BF240 00388800  90 E3 04 40 */	stw r7, 0x440(r3)
/* 803BF244 00388804  80 69 00 20 */	lwz r3, 0x20(r9)
/* 803BF248 00388808  90 E3 04 C8 */	stw r7, 0x4c8(r3)
/* 803BF24C 0038880C  80 69 00 20 */	lwz r3, 0x20(r9)
/* 803BF250 00388810  90 E3 05 50 */	stw r7, 0x550(r3)
/* 803BF254 00388814  80 69 00 20 */	lwz r3, 0x20(r9)
/* 803BF258 00388818  90 E3 05 D8 */	stw r7, 0x5d8(r3)
/* 803BF25C 0038881C  80 69 00 20 */	lwz r3, 0x20(r9)
/* 803BF260 00388820  90 E3 06 60 */	stw r7, 0x660(r3)
/* 803BF264 00388824  80 69 00 20 */	lwz r3, 0x20(r9)
/* 803BF268 00388828  90 E3 06 E8 */	stw r7, 0x6e8(r3)
/* 803BF26C 0038882C  80 69 00 20 */	lwz r3, 0x20(r9)
/* 803BF270 00388830  90 E3 07 70 */	stw r7, 0x770(r3)
/* 803BF274 00388834  80 69 00 20 */	lwz r3, 0x20(r9)
/* 803BF278 00388838  90 E3 07 F8 */	stw r7, 0x7f8(r3)
/* 803BF27C 0038883C  4E 80 00 20 */	blr
.endfn sfbuf_InitVfrmBuf

.fn sfbuf_InitAringBuf, global
/* 803BF280 00388840  1D 06 00 74 */	mulli r8, r6, 0x74
/* 803BF284 00388844  54 C9 10 3A */	slwi r9, r6, 2
/* 803BF288 00388848  7C E5 48 2E */	lwzx r7, r5, r9
/* 803BF28C 0038884C  38 00 00 02 */	li r0, 0x2
/* 803BF290 00388850  38 C0 00 00 */	li r6, 0x0
/* 803BF294 00388854  7D 03 42 14 */	add r8, r3, r8
/* 803BF298 00388858  7C 67 00 D0 */	neg r3, r7
/* 803BF29C 0038885C  90 08 00 00 */	stw r0, 0x0(r8)
/* 803BF2A0 00388860  7C 63 3B 78 */	or r3, r3, r7
/* 803BF2A4 00388864  38 00 00 09 */	li r0, 0x9
/* 803BF2A8 00388868  54 63 0F FE */	srwi r3, r3, 31
/* 803BF2AC 0038886C  90 68 00 04 */	stw r3, 0x4(r8)
/* 803BF2B0 00388870  90 C8 00 08 */	stw r6, 0x8(r8)
/* 803BF2B4 00388874  90 C8 00 0C */	stw r6, 0xc(r8)
/* 803BF2B8 00388878  90 08 00 4C */	stw r0, 0x4c(r8)
/* 803BF2BC 0038887C  90 08 00 50 */	stw r0, 0x50(r8)
/* 803BF2C0 00388880  7C 04 48 2E */	lwzx r0, r4, r9
/* 803BF2C4 00388884  90 08 00 10 */	stw r0, 0x10(r8)
/* 803BF2C8 00388888  7C 05 48 2E */	lwzx r0, r5, r9
/* 803BF2CC 0038888C  90 08 00 14 */	stw r0, 0x14(r8)
/* 803BF2D0 00388890  90 C8 00 18 */	stw r6, 0x18(r8)
/* 803BF2D4 00388894  90 C8 00 1C */	stw r6, 0x1c(r8)
/* 803BF2D8 00388898  90 C8 00 20 */	stw r6, 0x20(r8)
/* 803BF2DC 0038889C  90 C8 00 24 */	stw r6, 0x24(r8)
/* 803BF2E0 003888A0  90 C8 00 28 */	stw r6, 0x28(r8)
/* 803BF2E4 003888A4  90 C8 00 2C */	stw r6, 0x2c(r8)
/* 803BF2E8 003888A8  90 C8 00 30 */	stw r6, 0x30(r8)
/* 803BF2EC 003888AC  90 C8 00 34 */	stw r6, 0x34(r8)
/* 803BF2F0 003888B0  90 C8 00 38 */	stw r6, 0x38(r8)
/* 803BF2F4 003888B4  90 C8 00 3C */	stw r6, 0x3c(r8)
/* 803BF2F8 003888B8  4E 80 00 20 */	blr
.endfn sfbuf_InitAringBuf

.fn SFBUF_SetSupplySj, global
/* 803BF2FC 003888BC  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 803BF300 003888C0  7C 08 02 A6 */	mflr r0
/* 803BF304 003888C4  90 01 00 24 */	stw r0, 0x24(r1)
/* 803BF308 003888C8  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 803BF30C 003888CC  7C 9F 23 78 */	mr r31, r4
/* 803BF310 003888D0  93 C1 00 18 */	stw r30, 0x18(r1)
/* 803BF314 003888D4  93 A1 00 14 */	stw r29, 0x14(r1)
/* 803BF318 003888D8  7C 7D 1B 78 */	mr r29, r3
/* 803BF31C 003888DC  93 81 00 10 */	stw r28, 0x10(r1)
/* 803BF320 003888E0  80 04 00 04 */	lwz r0, 0x4(r4)
/* 803BF324 003888E4  2C 00 00 00 */	cmpwi r0, 0x0
/* 803BF328 003888E8  40 82 00 0C */	bne .L_803BF334
/* 803BF32C 003888EC  38 00 FF FF */	li r0, -0x1
/* 803BF330 003888F0  48 00 00 50 */	b .L_803BF380
.L_803BF334:
/* 803BF334 003888F4  80 04 00 00 */	lwz r0, 0x0(r4)
/* 803BF338 003888F8  2C 00 00 00 */	cmpwi r0, 0x0
/* 803BF33C 003888FC  40 82 00 40 */	bne .L_803BF37C
/* 803BF340 00388900  80 04 00 08 */	lwz r0, 0x8(r4)
/* 803BF344 00388904  2C 00 00 00 */	cmpwi r0, 0x0
/* 803BF348 00388908  40 82 00 0C */	bne .L_803BF354
/* 803BF34C 0038890C  38 00 FF FF */	li r0, -0x1
/* 803BF350 00388910  48 00 00 30 */	b .L_803BF380
.L_803BF354:
/* 803BF354 00388914  80 04 00 0C */	lwz r0, 0xc(r4)
/* 803BF358 00388918  2C 00 00 00 */	cmpwi r0, 0x0
/* 803BF35C 0038891C  41 81 00 0C */	bgt .L_803BF368
/* 803BF360 00388920  38 00 FF FF */	li r0, -0x1
/* 803BF364 00388924  48 00 00 1C */	b .L_803BF380
.L_803BF368:
/* 803BF368 00388928  80 04 00 14 */	lwz r0, 0x14(r4)
/* 803BF36C 0038892C  2C 00 00 00 */	cmpwi r0, 0x0
/* 803BF370 00388930  40 81 00 0C */	ble .L_803BF37C
/* 803BF374 00388934  38 00 FF FF */	li r0, -0x1
/* 803BF378 00388938  48 00 00 08 */	b .L_803BF380
.L_803BF37C:
/* 803BF37C 0038893C  38 00 00 00 */	li r0, 0x0
.L_803BF380:
/* 803BF380 00388940  2C 00 00 00 */	cmpwi r0, 0x0
/* 803BF384 00388944  41 82 00 18 */	beq .L_803BF39C
/* 803BF388 00388948  3C 80 FF 00 */	lis r4, 0xff00
/* 803BF38C 0038894C  7F A3 EB 78 */	mr r3, r29
/* 803BF390 00388950  38 84 04 08 */	addi r4, r4, 0x408
/* 803BF394 00388954  48 00 18 C1 */	bl SFLIB_SetErr
/* 803BF398 00388958  48 00 00 F8 */	b .L_803BF490
.L_803BF39C:
/* 803BF39C 0038895C  7F A3 EB 78 */	mr r3, r29
/* 803BF3A0 00388960  38 80 00 01 */	li r4, 0x1
/* 803BF3A4 00388964  48 00 F6 95 */	bl SFTRN_IsSetup
/* 803BF3A8 00388968  2C 03 00 00 */	cmpwi r3, 0x0
/* 803BF3AC 0038896C  41 82 00 0C */	beq .L_803BF3B8
/* 803BF3B0 00388970  38 00 00 00 */	li r0, 0x0
/* 803BF3B4 00388974  48 00 00 3C */	b .L_803BF3F0
.L_803BF3B8:
/* 803BF3B8 00388978  7F A3 EB 78 */	mr r3, r29
/* 803BF3BC 0038897C  38 80 00 02 */	li r4, 0x2
/* 803BF3C0 00388980  48 00 F6 79 */	bl SFTRN_IsSetup
/* 803BF3C4 00388984  2C 03 00 00 */	cmpwi r3, 0x0
/* 803BF3C8 00388988  41 82 00 0C */	beq .L_803BF3D4
/* 803BF3CC 0038898C  38 00 00 01 */	li r0, 0x1
/* 803BF3D0 00388990  48 00 00 20 */	b .L_803BF3F0
.L_803BF3D4:
/* 803BF3D4 00388994  7F A3 EB 78 */	mr r3, r29
/* 803BF3D8 00388998  38 80 00 03 */	li r4, 0x3
/* 803BF3DC 0038899C  48 00 F6 5D */	bl SFTRN_IsSetup
/* 803BF3E0 003889A0  2C 03 00 00 */	cmpwi r3, 0x0
/* 803BF3E4 003889A4  38 00 00 00 */	li r0, 0x0
/* 803BF3E8 003889A8  41 82 00 08 */	beq .L_803BF3F0
/* 803BF3EC 003889AC  38 00 00 02 */	li r0, 0x2
.L_803BF3F0:
/* 803BF3F0 003889B0  1C 00 00 74 */	mulli r0, r0, 0x74
/* 803BF3F4 003889B4  7F DD 02 14 */	add r30, r29, r0
/* 803BF3F8 003889B8  80 1E 13 B0 */	lwz r0, 0x13b0(r30)
/* 803BF3FC 003889BC  3B 9E 13 C0 */	addi r28, r30, 0x13c0
/* 803BF400 003889C0  2C 00 00 04 */	cmpwi r0, 0x4
/* 803BF404 003889C4  41 82 00 18 */	beq .L_803BF41C
/* 803BF408 003889C8  3C 80 FF 00 */	lis r4, 0xff00
/* 803BF40C 003889CC  7F A3 EB 78 */	mr r3, r29
/* 803BF410 003889D0  38 84 04 09 */	addi r4, r4, 0x409
/* 803BF414 003889D4  48 00 18 41 */	bl SFLIB_SetErr
/* 803BF418 003889D8  48 00 00 78 */	b .L_803BF490
.L_803BF41C:
/* 803BF41C 003889DC  80 9F 00 04 */	lwz r4, 0x4(r31)
/* 803BF420 003889E0  38 61 00 08 */	addi r3, r1, 0x8
/* 803BF424 003889E4  7C 04 00 D0 */	neg r0, r4
/* 803BF428 003889E8  7C 00 23 78 */	or r0, r0, r4
/* 803BF42C 003889EC  54 1D 0F FE */	srwi r29, r0, 31
/* 803BF430 003889F0  48 00 1A 09 */	bl SFLIB_LockCs
/* 803BF434 003889F4  93 BE 13 B4 */	stw r29, 0x13b4(r30)
/* 803BF438 003889F8  38 00 00 00 */	li r0, 0x0
/* 803BF43C 003889FC  38 61 00 08 */	addi r3, r1, 0x8
/* 803BF440 00388A00  80 BF 00 00 */	lwz r5, 0x0(r31)
/* 803BF444 00388A04  80 9F 00 04 */	lwz r4, 0x4(r31)
/* 803BF448 00388A08  90 BC 00 00 */	stw r5, 0x0(r28)
/* 803BF44C 00388A0C  90 9C 00 04 */	stw r4, 0x4(r28)
/* 803BF450 00388A10  80 BF 00 08 */	lwz r5, 0x8(r31)
/* 803BF454 00388A14  80 9F 00 0C */	lwz r4, 0xc(r31)
/* 803BF458 00388A18  90 BC 00 08 */	stw r5, 0x8(r28)
/* 803BF45C 00388A1C  90 9C 00 0C */	stw r4, 0xc(r28)
/* 803BF460 00388A20  80 BF 00 10 */	lwz r5, 0x10(r31)
/* 803BF464 00388A24  80 9F 00 14 */	lwz r4, 0x14(r31)
/* 803BF468 00388A28  90 BC 00 10 */	stw r5, 0x10(r28)
/* 803BF46C 00388A2C  90 9C 00 14 */	stw r4, 0x14(r28)
/* 803BF470 00388A30  90 1C 00 18 */	stw r0, 0x18(r28)
/* 803BF474 00388A34  90 1C 00 1C */	stw r0, 0x1c(r28)
/* 803BF478 00388A38  90 1C 00 20 */	stw r0, 0x20(r28)
/* 803BF47C 00388A3C  90 1C 00 24 */	stw r0, 0x24(r28)
/* 803BF480 00388A40  48 00 19 BD */	bl SFLIB_UnlockCs
/* 803BF484 00388A44  38 7C 00 28 */	addi r3, r28, 0x28
/* 803BF488 00388A48  48 00 C3 ED */	bl SFPTS_ResetPtsQue
/* 803BF48C 00388A4C  38 60 00 00 */	li r3, 0x0
.L_803BF490:
/* 803BF490 00388A50  80 01 00 24 */	lwz r0, 0x24(r1)
/* 803BF494 00388A54  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 803BF498 00388A58  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 803BF49C 00388A5C  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 803BF4A0 00388A60  83 81 00 10 */	lwz r28, 0x10(r1)
/* 803BF4A4 00388A64  7C 08 03 A6 */	mtlr r0
/* 803BF4A8 00388A68  38 21 00 20 */	addi r1, r1, 0x20
/* 803BF4AC 00388A6C  4E 80 00 20 */	blr
.endfn SFBUF_SetSupplySj

.fn SFBUF_SetUoch, global
/* 803BF4B0 00388A70  1C E4 00 74 */	mulli r7, r4, 0x74
/* 803BF4B4 00388A74  54 A5 20 36 */	slwi r5, r5, 4
/* 803BF4B8 00388A78  80 86 00 00 */	lwz r4, 0x0(r6)
/* 803BF4BC 00388A7C  80 06 00 04 */	lwz r0, 0x4(r6)
/* 803BF4C0 00388A80  7C 63 3A 14 */	add r3, r3, r7
/* 803BF4C4 00388A84  7C A3 2A 14 */	add r5, r3, r5
/* 803BF4C8 00388A88  90 85 13 C0 */	stw r4, 0x13c0(r5)
/* 803BF4CC 00388A8C  90 05 13 C4 */	stw r0, 0x13c4(r5)
/* 803BF4D0 00388A90  80 66 00 08 */	lwz r3, 0x8(r6)
/* 803BF4D4 00388A94  80 06 00 0C */	lwz r0, 0xc(r6)
/* 803BF4D8 00388A98  90 65 13 C8 */	stw r3, 0x13c8(r5)
/* 803BF4DC 00388A9C  90 05 13 CC */	stw r0, 0x13cc(r5)
/* 803BF4E0 00388AA0  4E 80 00 20 */	blr
.endfn SFBUF_SetUoch

.fn SFBUF_GetUoch, global
/* 803BF4E4 00388AA4  1C 84 00 74 */	mulli r4, r4, 0x74
/* 803BF4E8 00388AA8  54 A0 20 36 */	slwi r0, r5, 4
/* 803BF4EC 00388AAC  7C 63 22 14 */	add r3, r3, r4
/* 803BF4F0 00388AB0  7C 83 02 14 */	add r4, r3, r0
/* 803BF4F4 00388AB4  80 64 13 C0 */	lwz r3, 0x13c0(r4)
/* 803BF4F8 00388AB8  80 04 13 C4 */	lwz r0, 0x13c4(r4)
/* 803BF4FC 00388ABC  90 66 00 00 */	stw r3, 0x0(r6)
/* 803BF500 00388AC0  90 06 00 04 */	stw r0, 0x4(r6)
/* 803BF504 00388AC4  80 64 13 C8 */	lwz r3, 0x13c8(r4)
/* 803BF508 00388AC8  80 04 13 CC */	lwz r0, 0x13cc(r4)
/* 803BF50C 00388ACC  90 66 00 08 */	stw r3, 0x8(r6)
/* 803BF510 00388AD0  90 06 00 0C */	stw r0, 0xc(r6)
/* 803BF514 00388AD4  4E 80 00 20 */	blr
.endfn SFBUF_GetUoch

.fn SFBUF_RingGetWrite, global
/* 803BF518 00388AD8  38 C0 00 00 */	li r6, 0x0
/* 803BF51C 00388ADC  48 00 00 0C */	b sfbuf_RingGetSub
.endfn SFBUF_RingGetWrite

.fn SFBUF_RingGetRead, global
/* 803BF520 00388AE0  38 C0 00 01 */	li r6, 0x1
/* 803BF524 00388AE4  48 00 00 04 */	b sfbuf_RingGetSub
.endfn SFBUF_RingGetRead

.fn sfbuf_RingGetSub, global
/* 803BF528 00388AE8  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 803BF52C 00388AEC  7C 08 02 A6 */	mflr r0
/* 803BF530 00388AF0  90 01 00 34 */	stw r0, 0x34(r1)
/* 803BF534 00388AF4  1C 04 00 74 */	mulli r0, r4, 0x74
/* 803BF538 00388AF8  BF 41 00 18 */	stmw r26, 0x18(r1)
/* 803BF53C 00388AFC  3B 80 00 00 */	li r28, 0x0
/* 803BF540 00388B00  7C 63 02 14 */	add r3, r3, r0
/* 803BF544 00388B04  7C BF 2B 78 */	mr r31, r5
/* 803BF548 00388B08  7C DA 33 78 */	mr r26, r6
/* 803BF54C 00388B0C  93 85 00 00 */	stw r28, 0x0(r5)
/* 803BF550 00388B10  93 85 00 04 */	stw r28, 0x4(r5)
/* 803BF554 00388B14  93 85 00 08 */	stw r28, 0x8(r5)
/* 803BF558 00388B18  93 85 00 0C */	stw r28, 0xc(r5)
/* 803BF55C 00388B1C  93 85 00 10 */	stw r28, 0x10(r5)
/* 803BF560 00388B20  93 85 00 14 */	stw r28, 0x14(r5)
/* 803BF564 00388B24  93 85 00 18 */	stw r28, 0x18(r5)
/* 803BF568 00388B28  80 03 13 B4 */	lwz r0, 0x13b4(r3)
/* 803BF56C 00388B2C  83 63 13 C4 */	lwz r27, 0x13c4(r3)
/* 803BF570 00388B30  2C 00 00 00 */	cmpwi r0, 0x0
/* 803BF574 00388B34  41 82 00 0C */	beq .L_803BF580
/* 803BF578 00388B38  2C 1B 00 00 */	cmpwi r27, 0x0
/* 803BF57C 00388B3C  40 82 00 0C */	bne .L_803BF588
.L_803BF580:
/* 803BF580 00388B40  38 60 00 00 */	li r3, 0x0
/* 803BF584 00388B44  48 00 00 D8 */	b .L_803BF65C
.L_803BF588:
/* 803BF588 00388B48  80 BB 00 00 */	lwz r5, 0x0(r27)
/* 803BF58C 00388B4C  7F 63 DB 78 */	mr r3, r27
/* 803BF590 00388B50  7F 44 D3 78 */	mr r4, r26
/* 803BF594 00388B54  81 85 00 24 */	lwz r12, 0x24(r5)
/* 803BF598 00388B58  7D 89 03 A6 */	mtctr r12
/* 803BF59C 00388B5C  4E 80 04 21 */	bctrl
/* 803BF5A0 00388B60  80 9B 00 00 */	lwz r4, 0x0(r27)
/* 803BF5A4 00388B64  3F C0 80 00 */	lis r30, 0x8000
/* 803BF5A8 00388B68  7C 7D 1B 78 */	mr r29, r3
/* 803BF5AC 00388B6C  7F 63 DB 78 */	mr r3, r27
/* 803BF5B0 00388B70  81 84 00 18 */	lwz r12, 0x18(r4)
/* 803BF5B4 00388B74  7F 44 D3 78 */	mr r4, r26
/* 803BF5B8 00388B78  38 BE FF FF */	addi r5, r30, -0x1
/* 803BF5BC 00388B7C  38 C1 00 10 */	addi r6, r1, 0x10
/* 803BF5C0 00388B80  7D 89 03 A6 */	mtctr r12
/* 803BF5C4 00388B84  4E 80 04 21 */	bctrl
/* 803BF5C8 00388B88  80 01 00 14 */	lwz r0, 0x14(r1)
/* 803BF5CC 00388B8C  7C 00 E8 00 */	cmpw r0, r29
/* 803BF5D0 00388B90  40 80 00 44 */	bge .L_803BF614
/* 803BF5D4 00388B94  80 BB 00 00 */	lwz r5, 0x0(r27)
/* 803BF5D8 00388B98  7F 63 DB 78 */	mr r3, r27
/* 803BF5DC 00388B9C  7F 44 D3 78 */	mr r4, r26
/* 803BF5E0 00388BA0  38 C1 00 08 */	addi r6, r1, 0x8
/* 803BF5E4 00388BA4  81 85 00 18 */	lwz r12, 0x18(r5)
/* 803BF5E8 00388BA8  38 BE FF FF */	addi r5, r30, -0x1
/* 803BF5EC 00388BAC  7D 89 03 A6 */	mtctr r12
/* 803BF5F0 00388BB0  4E 80 04 21 */	bctrl
/* 803BF5F4 00388BB4  80 DB 00 00 */	lwz r6, 0x0(r27)
/* 803BF5F8 00388BB8  7F 63 DB 78 */	mr r3, r27
/* 803BF5FC 00388BBC  7F 44 D3 78 */	mr r4, r26
/* 803BF600 00388BC0  38 A1 00 08 */	addi r5, r1, 0x8
/* 803BF604 00388BC4  81 86 00 1C */	lwz r12, 0x1c(r6)
/* 803BF608 00388BC8  7D 89 03 A6 */	mtctr r12
/* 803BF60C 00388BCC  4E 80 04 21 */	bctrl
/* 803BF610 00388BD0  48 00 00 0C */	b .L_803BF61C
.L_803BF614:
/* 803BF614 00388BD4  93 81 00 08 */	stw r28, 0x8(r1)
/* 803BF618 00388BD8  93 81 00 0C */	stw r28, 0xc(r1)
.L_803BF61C:
/* 803BF61C 00388BDC  80 DB 00 00 */	lwz r6, 0x0(r27)
/* 803BF620 00388BE0  7F 63 DB 78 */	mr r3, r27
/* 803BF624 00388BE4  7F 44 D3 78 */	mr r4, r26
/* 803BF628 00388BE8  38 A1 00 10 */	addi r5, r1, 0x10
/* 803BF62C 00388BEC  81 86 00 1C */	lwz r12, 0x1c(r6)
/* 803BF630 00388BF0  7D 89 03 A6 */	mtctr r12
/* 803BF634 00388BF4  4E 80 04 21 */	bctrl
/* 803BF638 00388BF8  80 01 00 10 */	lwz r0, 0x10(r1)
/* 803BF63C 00388BFC  38 60 00 00 */	li r3, 0x0
/* 803BF640 00388C00  90 1F 00 00 */	stw r0, 0x0(r31)
/* 803BF644 00388C04  80 01 00 14 */	lwz r0, 0x14(r1)
/* 803BF648 00388C08  90 1F 00 04 */	stw r0, 0x4(r31)
/* 803BF64C 00388C0C  80 01 00 08 */	lwz r0, 0x8(r1)
/* 803BF650 00388C10  90 1F 00 08 */	stw r0, 0x8(r31)
/* 803BF654 00388C14  80 01 00 0C */	lwz r0, 0xc(r1)
/* 803BF658 00388C18  90 1F 00 0C */	stw r0, 0xc(r31)
.L_803BF65C:
/* 803BF65C 00388C1C  BB 41 00 18 */	lmw r26, 0x18(r1)
/* 803BF660 00388C20  80 01 00 34 */	lwz r0, 0x34(r1)
/* 803BF664 00388C24  7C 08 03 A6 */	mtlr r0
/* 803BF668 00388C28  38 21 00 30 */	addi r1, r1, 0x30
/* 803BF66C 00388C2C  4E 80 00 20 */	blr
.endfn sfbuf_RingGetSub

.fn SFBUF_RingAddWrite, global
/* 803BF670 00388C30  38 C0 00 00 */	li r6, 0x0
/* 803BF674 00388C34  48 00 00 0C */	b sfbuf_RingAddSub
.endfn SFBUF_RingAddWrite

.fn SFBUF_RingAddRead, global
/* 803BF678 00388C38  38 C0 00 01 */	li r6, 0x1
/* 803BF67C 00388C3C  48 00 00 04 */	b sfbuf_RingAddSub
.endfn SFBUF_RingAddRead

.fn sfbuf_RingAddSub, global
/* 803BF680 00388C40  94 21 FF B0 */	stwu r1, -0x50(r1)
/* 803BF684 00388C44  7C 08 02 A6 */	mflr r0
/* 803BF688 00388C48  2C 05 00 00 */	cmpwi r5, 0x0
/* 803BF68C 00388C4C  90 01 00 54 */	stw r0, 0x54(r1)
/* 803BF690 00388C50  1C 04 00 74 */	mulli r0, r4, 0x74
/* 803BF694 00388C54  BE E1 00 2C */	stmw r23, 0x2c(r1)
/* 803BF698 00388C58  7C 79 1B 78 */	mr r25, r3
/* 803BF69C 00388C5C  7C 63 02 14 */	add r3, r3, r0
/* 803BF6A0 00388C60  7C 9A 23 78 */	mr r26, r4
/* 803BF6A4 00388C64  7C BB 2B 78 */	mr r27, r5
/* 803BF6A8 00388C68  7C DC 33 78 */	mr r28, r6
/* 803BF6AC 00388C6C  3B C3 13 C0 */	addi r30, r3, 0x13c0
/* 803BF6B0 00388C70  3B E0 00 00 */	li r31, 0x0
/* 803BF6B4 00388C74  83 A3 13 C4 */	lwz r29, 0x13c4(r3)
/* 803BF6B8 00388C78  40 82 00 0C */	bne .L_803BF6C4
/* 803BF6BC 00388C7C  38 60 00 00 */	li r3, 0x0
/* 803BF6C0 00388C80  48 00 02 24 */	b .L_803BF8E4
.L_803BF6C4:
/* 803BF6C4 00388C84  80 03 13 B4 */	lwz r0, 0x13b4(r3)
/* 803BF6C8 00388C88  2C 00 00 00 */	cmpwi r0, 0x0
/* 803BF6CC 00388C8C  41 82 00 0C */	beq .L_803BF6D8
/* 803BF6D0 00388C90  2C 1D 00 00 */	cmpwi r29, 0x0
/* 803BF6D4 00388C94  40 82 00 0C */	bne .L_803BF6E0
.L_803BF6D8:
/* 803BF6D8 00388C98  38 60 00 00 */	li r3, 0x0
/* 803BF6DC 00388C9C  48 00 02 08 */	b .L_803BF8E4
.L_803BF6E0:
/* 803BF6E0 00388CA0  80 FD 00 00 */	lwz r7, 0x0(r29)
/* 803BF6E4 00388CA4  7C C0 00 34 */	cntlzw r0, r6
/* 803BF6E8 00388CA8  7F A3 EB 78 */	mr r3, r29
/* 803BF6EC 00388CAC  7F 84 E3 78 */	mr r4, r28
/* 803BF6F0 00388CB0  81 87 00 18 */	lwz r12, 0x18(r7)
/* 803BF6F4 00388CB4  54 18 D9 7E */	srwi r24, r0, 5
/* 803BF6F8 00388CB8  38 C1 00 20 */	addi r6, r1, 0x20
/* 803BF6FC 00388CBC  7D 89 03 A6 */	mtctr r12
/* 803BF700 00388CC0  4E 80 04 21 */	bctrl
/* 803BF704 00388CC4  80 DD 00 00 */	lwz r6, 0x0(r29)
/* 803BF708 00388CC8  7F A3 EB 78 */	mr r3, r29
/* 803BF70C 00388CCC  7F 04 C3 78 */	mr r4, r24
/* 803BF710 00388CD0  38 A1 00 20 */	addi r5, r1, 0x20
/* 803BF714 00388CD4  81 86 00 20 */	lwz r12, 0x20(r6)
/* 803BF718 00388CD8  7D 89 03 A6 */	mtctr r12
/* 803BF71C 00388CDC  4E 80 04 21 */	bctrl
/* 803BF720 00388CE0  80 61 00 24 */	lwz r3, 0x24(r1)
/* 803BF724 00388CE4  7C 03 D8 00 */	cmpw r3, r27
/* 803BF728 00388CE8  40 80 00 6C */	bge .L_803BF794
/* 803BF72C 00388CEC  80 9D 00 00 */	lwz r4, 0x0(r29)
/* 803BF730 00388CF0  7E E3 D8 50 */	subf r23, r3, r27
/* 803BF734 00388CF4  7F 80 00 34 */	cntlzw r0, r28
/* 803BF738 00388CF8  7F A3 EB 78 */	mr r3, r29
/* 803BF73C 00388CFC  81 84 00 18 */	lwz r12, 0x18(r4)
/* 803BF740 00388D00  7F 84 E3 78 */	mr r4, r28
/* 803BF744 00388D04  7E E5 BB 78 */	mr r5, r23
/* 803BF748 00388D08  54 18 D9 7E */	srwi r24, r0, 5
/* 803BF74C 00388D0C  38 C1 00 18 */	addi r6, r1, 0x18
/* 803BF750 00388D10  7D 89 03 A6 */	mtctr r12
/* 803BF754 00388D14  4E 80 04 21 */	bctrl
/* 803BF758 00388D18  80 DD 00 00 */	lwz r6, 0x0(r29)
/* 803BF75C 00388D1C  7F A3 EB 78 */	mr r3, r29
/* 803BF760 00388D20  7F 04 C3 78 */	mr r4, r24
/* 803BF764 00388D24  38 A1 00 18 */	addi r5, r1, 0x18
/* 803BF768 00388D28  81 86 00 20 */	lwz r12, 0x20(r6)
/* 803BF76C 00388D2C  7D 89 03 A6 */	mtctr r12
/* 803BF770 00388D30  4E 80 04 21 */	bctrl
/* 803BF774 00388D34  80 01 00 1C */	lwz r0, 0x1c(r1)
/* 803BF778 00388D38  7C 00 B8 00 */	cmpw r0, r23
/* 803BF77C 00388D3C  40 80 00 18 */	bge .L_803BF794
/* 803BF780 00388D40  3C 80 FF 00 */	lis r4, 0xff00
/* 803BF784 00388D44  7F 23 CB 78 */	mr r3, r25
/* 803BF788 00388D48  38 84 04 0B */	addi r4, r4, 0x40b
/* 803BF78C 00388D4C  48 00 14 C9 */	bl SFLIB_SetErr
/* 803BF790 00388D50  7C 7F 1B 78 */	mr r31, r3
.L_803BF794:
/* 803BF794 00388D54  2C 1C 00 01 */	cmpwi r28, 0x1
/* 803BF798 00388D58  40 82 01 0C */	bne .L_803BF8A4
/* 803BF79C 00388D5C  2C 1A 00 01 */	cmpwi r26, 0x1
/* 803BF7A0 00388D60  40 82 01 04 */	bne .L_803BF8A4
/* 803BF7A4 00388D64  83 1E 00 04 */	lwz r24, 0x4(r30)
/* 803BF7A8 00388D68  38 80 00 01 */	li r4, 0x1
/* 803BF7AC 00388D6C  80 B8 00 00 */	lwz r5, 0x0(r24)
/* 803BF7B0 00388D70  7F 03 C3 78 */	mr r3, r24
/* 803BF7B4 00388D74  81 85 00 24 */	lwz r12, 0x24(r5)
/* 803BF7B8 00388D78  7D 89 03 A6 */	mtctr r12
/* 803BF7BC 00388D7C  4E 80 04 21 */	bctrl
/* 803BF7C0 00388D80  80 98 00 00 */	lwz r4, 0x0(r24)
/* 803BF7C4 00388D84  3F 40 80 00 */	lis r26, 0x8000
/* 803BF7C8 00388D88  7C 7D 1B 78 */	mr r29, r3
/* 803BF7CC 00388D8C  7F 03 C3 78 */	mr r3, r24
/* 803BF7D0 00388D90  81 84 00 18 */	lwz r12, 0x18(r4)
/* 803BF7D4 00388D94  38 BA FF FF */	addi r5, r26, -0x1
/* 803BF7D8 00388D98  38 C1 00 08 */	addi r6, r1, 0x8
/* 803BF7DC 00388D9C  38 80 00 01 */	li r4, 0x1
/* 803BF7E0 00388DA0  7D 89 03 A6 */	mtctr r12
/* 803BF7E4 00388DA4  4E 80 04 21 */	bctrl
/* 803BF7E8 00388DA8  80 01 00 0C */	lwz r0, 0xc(r1)
/* 803BF7EC 00388DAC  7C 00 E8 00 */	cmpw r0, r29
/* 803BF7F0 00388DB0  40 80 00 44 */	bge .L_803BF834
/* 803BF7F4 00388DB4  80 98 00 00 */	lwz r4, 0x0(r24)
/* 803BF7F8 00388DB8  7F 03 C3 78 */	mr r3, r24
/* 803BF7FC 00388DBC  38 BA FF FF */	addi r5, r26, -0x1
/* 803BF800 00388DC0  38 C1 00 10 */	addi r6, r1, 0x10
/* 803BF804 00388DC4  81 84 00 18 */	lwz r12, 0x18(r4)
/* 803BF808 00388DC8  38 80 00 01 */	li r4, 0x1
/* 803BF80C 00388DCC  7D 89 03 A6 */	mtctr r12
/* 803BF810 00388DD0  4E 80 04 21 */	bctrl
/* 803BF814 00388DD4  80 D8 00 00 */	lwz r6, 0x0(r24)
/* 803BF818 00388DD8  7F 03 C3 78 */	mr r3, r24
/* 803BF81C 00388DDC  38 A1 00 10 */	addi r5, r1, 0x10
/* 803BF820 00388DE0  38 80 00 01 */	li r4, 0x1
/* 803BF824 00388DE4  81 86 00 1C */	lwz r12, 0x1c(r6)
/* 803BF828 00388DE8  7D 89 03 A6 */	mtctr r12
/* 803BF82C 00388DEC  4E 80 04 21 */	bctrl
/* 803BF830 00388DF0  48 00 00 10 */	b .L_803BF840
.L_803BF834:
/* 803BF834 00388DF4  38 00 00 00 */	li r0, 0x0
/* 803BF838 00388DF8  90 01 00 10 */	stw r0, 0x10(r1)
/* 803BF83C 00388DFC  90 01 00 14 */	stw r0, 0x14(r1)
.L_803BF840:
/* 803BF840 00388E00  80 D8 00 00 */	lwz r6, 0x0(r24)
/* 803BF844 00388E04  7F 03 C3 78 */	mr r3, r24
/* 803BF848 00388E08  38 A1 00 08 */	addi r5, r1, 0x8
/* 803BF84C 00388E0C  38 80 00 01 */	li r4, 0x1
/* 803BF850 00388E10  81 86 00 1C */	lwz r12, 0x1c(r6)
/* 803BF854 00388E14  7D 89 03 A6 */	mtctr r12
/* 803BF858 00388E18  4E 80 04 21 */	bctrl
/* 803BF85C 00388E1C  80 81 00 08 */	lwz r4, 0x8(r1)
/* 803BF860 00388E20  80 7E 00 18 */	lwz r3, 0x18(r30)
/* 803BF864 00388E24  7C 03 20 40 */	cmplw r3, r4
/* 803BF868 00388E28  41 80 00 14 */	blt .L_803BF87C
/* 803BF86C 00388E2C  80 01 00 0C */	lwz r0, 0xc(r1)
/* 803BF870 00388E30  7C 04 02 14 */	add r0, r4, r0
/* 803BF874 00388E34  7C 03 00 40 */	cmplw r3, r0
/* 803BF878 00388E38  41 80 00 2C */	blt .L_803BF8A4
.L_803BF87C:
/* 803BF87C 00388E3C  80 81 00 10 */	lwz r4, 0x10(r1)
/* 803BF880 00388E40  7C 03 20 40 */	cmplw r3, r4
/* 803BF884 00388E44  41 80 00 14 */	blt .L_803BF898
/* 803BF888 00388E48  80 01 00 14 */	lwz r0, 0x14(r1)
/* 803BF88C 00388E4C  7C 04 02 14 */	add r0, r4, r0
/* 803BF890 00388E50  7C 03 00 40 */	cmplw r3, r0
/* 803BF894 00388E54  41 80 00 10 */	blt .L_803BF8A4
.L_803BF898:
/* 803BF898 00388E58  38 00 00 00 */	li r0, 0x0
/* 803BF89C 00388E5C  90 1E 00 18 */	stw r0, 0x18(r30)
/* 803BF8A0 00388E60  90 1E 00 1C */	stw r0, 0x1c(r30)
.L_803BF8A4:
/* 803BF8A4 00388E64  2C 1C 00 01 */	cmpwi r28, 0x1
/* 803BF8A8 00388E68  40 82 00 1C */	bne .L_803BF8C4
/* 803BF8AC 00388E6C  80 1E 00 24 */	lwz r0, 0x24(r30)
/* 803BF8B0 00388E70  2C 00 00 00 */	cmpwi r0, 0x0
/* 803BF8B4 00388E74  41 80 00 24 */	blt .L_803BF8D8
/* 803BF8B8 00388E78  7C 00 DA 14 */	add r0, r0, r27
/* 803BF8BC 00388E7C  90 1E 00 24 */	stw r0, 0x24(r30)
/* 803BF8C0 00388E80  48 00 00 18 */	b .L_803BF8D8
.L_803BF8C4:
/* 803BF8C4 00388E84  80 1E 00 20 */	lwz r0, 0x20(r30)
/* 803BF8C8 00388E88  2C 00 00 00 */	cmpwi r0, 0x0
/* 803BF8CC 00388E8C  41 80 00 0C */	blt .L_803BF8D8
/* 803BF8D0 00388E90  7C 00 DA 14 */	add r0, r0, r27
/* 803BF8D4 00388E94  90 1E 00 20 */	stw r0, 0x20(r30)
.L_803BF8D8:
/* 803BF8D8 00388E98  38 00 00 01 */	li r0, 0x1
/* 803BF8DC 00388E9C  7F E3 FB 78 */	mr r3, r31
/* 803BF8E0 00388EA0  90 19 00 4C */	stw r0, 0x4c(r25)
.L_803BF8E4:
/* 803BF8E4 00388EA4  BA E1 00 2C */	lmw r23, 0x2c(r1)
/* 803BF8E8 00388EA8  80 01 00 54 */	lwz r0, 0x54(r1)
/* 803BF8EC 00388EAC  7C 08 03 A6 */	mtlr r0
/* 803BF8F0 00388EB0  38 21 00 50 */	addi r1, r1, 0x50
/* 803BF8F4 00388EB4  4E 80 00 20 */	blr
.endfn sfbuf_RingAddSub

.fn SFBUF_RingGetDlm, global
/* 803BF8F8 00388EB8  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 803BF8FC 00388EBC  7C 08 02 A6 */	mflr r0
/* 803BF900 00388EC0  90 01 00 24 */	stw r0, 0x24(r1)
/* 803BF904 00388EC4  1C 04 00 74 */	mulli r0, r4, 0x74
/* 803BF908 00388EC8  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 803BF90C 00388ECC  7F E3 02 14 */	add r31, r3, r0
/* 803BF910 00388ED0  38 61 00 08 */	addi r3, r1, 0x8
/* 803BF914 00388ED4  93 C1 00 18 */	stw r30, 0x18(r1)
/* 803BF918 00388ED8  7C DE 33 78 */	mr r30, r6
/* 803BF91C 00388EDC  93 A1 00 14 */	stw r29, 0x14(r1)
/* 803BF920 00388EE0  7C BD 2B 78 */	mr r29, r5
/* 803BF924 00388EE4  48 00 15 15 */	bl SFLIB_LockCs
/* 803BF928 00388EE8  80 1F 13 D8 */	lwz r0, 0x13d8(r31)
/* 803BF92C 00388EEC  38 61 00 08 */	addi r3, r1, 0x8
/* 803BF930 00388EF0  90 1D 00 00 */	stw r0, 0x0(r29)
/* 803BF934 00388EF4  80 1F 13 DC */	lwz r0, 0x13dc(r31)
/* 803BF938 00388EF8  90 1E 00 00 */	stw r0, 0x0(r30)
/* 803BF93C 00388EFC  48 00 15 01 */	bl SFLIB_UnlockCs
/* 803BF940 00388F00  80 01 00 24 */	lwz r0, 0x24(r1)
/* 803BF944 00388F04  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 803BF948 00388F08  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 803BF94C 00388F0C  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 803BF950 00388F10  7C 08 03 A6 */	mtlr r0
/* 803BF954 00388F14  38 21 00 20 */	addi r1, r1, 0x20
/* 803BF958 00388F18  4E 80 00 20 */	blr
.endfn SFBUF_RingGetDlm

.fn SFBUF_RingSetDlm, global
/* 803BF95C 00388F1C  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 803BF960 00388F20  7C 08 02 A6 */	mflr r0
/* 803BF964 00388F24  90 01 00 24 */	stw r0, 0x24(r1)
/* 803BF968 00388F28  1C 04 00 74 */	mulli r0, r4, 0x74
/* 803BF96C 00388F2C  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 803BF970 00388F30  7F E3 02 14 */	add r31, r3, r0
/* 803BF974 00388F34  38 61 00 08 */	addi r3, r1, 0x8
/* 803BF978 00388F38  93 C1 00 18 */	stw r30, 0x18(r1)
/* 803BF97C 00388F3C  7C DE 33 78 */	mr r30, r6
/* 803BF980 00388F40  93 A1 00 14 */	stw r29, 0x14(r1)
/* 803BF984 00388F44  7C BD 2B 78 */	mr r29, r5
/* 803BF988 00388F48  48 00 14 B1 */	bl SFLIB_LockCs
/* 803BF98C 00388F4C  93 BF 13 D8 */	stw r29, 0x13d8(r31)
/* 803BF990 00388F50  38 61 00 08 */	addi r3, r1, 0x8
/* 803BF994 00388F54  93 DF 13 DC */	stw r30, 0x13dc(r31)
/* 803BF998 00388F58  48 00 14 A5 */	bl SFLIB_UnlockCs
/* 803BF99C 00388F5C  80 01 00 24 */	lwz r0, 0x24(r1)
/* 803BF9A0 00388F60  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 803BF9A4 00388F64  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 803BF9A8 00388F68  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 803BF9AC 00388F6C  7C 08 03 A6 */	mtlr r0
/* 803BF9B0 00388F70  38 21 00 20 */	addi r1, r1, 0x20
/* 803BF9B4 00388F74  4E 80 00 20 */	blr
.endfn SFBUF_RingSetDlm

.fn SFBUF_GetRingBufSiz, global
/* 803BF9B8 00388F78  1C 04 00 74 */	mulli r0, r4, 0x74
/* 803BF9BC 00388F7C  7C 63 02 14 */	add r3, r3, r0
/* 803BF9C0 00388F80  80 63 13 CC */	lwz r3, 0x13cc(r3)
/* 803BF9C4 00388F84  4E 80 00 20 */	blr
.endfn SFBUF_GetRingBufSiz

.fn SFBUF_GetRTot, global
/* 803BF9C8 00388F88  1C 04 00 74 */	mulli r0, r4, 0x74
/* 803BF9CC 00388F8C  7C 63 02 14 */	add r3, r3, r0
/* 803BF9D0 00388F90  80 63 13 E4 */	lwz r3, 0x13e4(r3)
/* 803BF9D4 00388F94  4E 80 00 20 */	blr
.endfn SFBUF_GetRTot

.fn SFBUF_GetWTot, global
/* 803BF9D8 00388F98  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 803BF9DC 00388F9C  7C 08 02 A6 */	mflr r0
/* 803BF9E0 00388FA0  90 01 00 24 */	stw r0, 0x24(r1)
/* 803BF9E4 00388FA4  1C 04 00 74 */	mulli r0, r4, 0x74
/* 803BF9E8 00388FA8  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 803BF9EC 00388FAC  7F E3 02 14 */	add r31, r3, r0
/* 803BF9F0 00388FB0  38 61 00 08 */	addi r3, r1, 0x8
/* 803BF9F4 00388FB4  93 C1 00 18 */	stw r30, 0x18(r1)
/* 803BF9F8 00388FB8  93 A1 00 14 */	stw r29, 0x14(r1)
/* 803BF9FC 00388FBC  48 00 14 3D */	bl SFLIB_LockCs
/* 803BFA00 00388FC0  83 DF 13 E0 */	lwz r30, 0x13e0(r31)
/* 803BFA04 00388FC4  83 BF 13 E4 */	lwz r29, 0x13e4(r31)
/* 803BFA08 00388FC8  2C 1E 00 00 */	cmpwi r30, 0x0
/* 803BFA0C 00388FCC  40 82 00 28 */	bne .L_803BFA34
/* 803BFA10 00388FD0  2C 1D 00 00 */	cmpwi r29, 0x0
/* 803BFA14 00388FD4  41 82 00 20 */	beq .L_803BFA34
/* 803BFA18 00388FD8  80 7F 13 C4 */	lwz r3, 0x13c4(r31)
/* 803BFA1C 00388FDC  38 80 00 01 */	li r4, 0x1
/* 803BFA20 00388FE0  80 A3 00 00 */	lwz r5, 0x0(r3)
/* 803BFA24 00388FE4  81 85 00 24 */	lwz r12, 0x24(r5)
/* 803BFA28 00388FE8  7D 89 03 A6 */	mtctr r12
/* 803BFA2C 00388FEC  4E 80 04 21 */	bctrl
/* 803BFA30 00388FF0  7F DD 1A 14 */	add r30, r29, r3
.L_803BFA34:
/* 803BFA34 00388FF4  2C 1E 00 00 */	cmpwi r30, 0x0
/* 803BFA38 00388FF8  40 80 00 0C */	bge .L_803BFA44
/* 803BFA3C 00388FFC  3C 60 80 00 */	lis r3, 0x8000
/* 803BFA40 00389000  3B C3 FF FF */	addi r30, r3, -0x1
.L_803BFA44:
/* 803BFA44 00389004  38 61 00 08 */	addi r3, r1, 0x8
/* 803BFA48 00389008  48 00 13 F5 */	bl SFLIB_UnlockCs
/* 803BFA4C 0038900C  7F C3 F3 78 */	mr r3, r30
/* 803BFA50 00389010  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 803BFA54 00389014  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 803BFA58 00389018  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 803BFA5C 0038901C  80 01 00 24 */	lwz r0, 0x24(r1)
/* 803BFA60 00389020  7C 08 03 A6 */	mtlr r0
/* 803BFA64 00389024  38 21 00 20 */	addi r1, r1, 0x20
/* 803BFA68 00389028  4E 80 00 20 */	blr
.endfn SFBUF_GetWTot

.fn SFBUF_RingGetSj, global
/* 803BFA6C 0038902C  1C 84 00 74 */	mulli r4, r4, 0x74
/* 803BFA70 00389030  38 00 00 00 */	li r0, 0x0
/* 803BFA74 00389034  90 05 00 00 */	stw r0, 0x0(r5)
/* 803BFA78 00389038  7C 83 22 14 */	add r4, r3, r4
/* 803BFA7C 0038903C  80 04 13 B4 */	lwz r0, 0x13b4(r4)
/* 803BFA80 00389040  2C 00 00 00 */	cmpwi r0, 0x0
/* 803BFA84 00389044  40 82 00 10 */	bne .L_803BFA94
/* 803BFA88 00389048  3C 80 FF 00 */	lis r4, 0xff00
/* 803BFA8C 0038904C  38 84 04 01 */	addi r4, r4, 0x401
/* 803BFA90 00389050  48 00 11 C4 */	b SFLIB_SetErr
.L_803BFA94:
/* 803BFA94 00389054  80 04 13 C4 */	lwz r0, 0x13c4(r4)
/* 803BFA98 00389058  38 60 00 00 */	li r3, 0x0
/* 803BFA9C 0038905C  90 05 00 00 */	stw r0, 0x0(r5)
/* 803BFAA0 00389060  4E 80 00 20 */	blr
.endfn SFBUF_RingGetSj

.fn SFBUF_AddRtotSj, global
/* 803BFAA4 00389064  1C 04 00 74 */	mulli r0, r4, 0x74
/* 803BFAA8 00389068  7C 63 02 14 */	add r3, r3, r0
/* 803BFAAC 0038906C  80 03 13 E4 */	lwz r0, 0x13e4(r3)
/* 803BFAB0 00389070  2C 00 00 00 */	cmpwi r0, 0x0
/* 803BFAB4 00389074  4D 80 00 20 */	bltlr
/* 803BFAB8 00389078  7C 00 2A 14 */	add r0, r0, r5
/* 803BFABC 0038907C  90 03 13 E4 */	stw r0, 0x13e4(r3)
/* 803BFAC0 00389080  4E 80 00 20 */	blr
.endfn SFBUF_AddRtotSj

.fn SFBUF_VfrmGetRead, global
/* 803BFAC4 00389084  1C 04 00 74 */	mulli r0, r4, 0x74
/* 803BFAC8 00389088  7C C7 33 78 */	mr r7, r6
/* 803BFACC 0038908C  7C 83 02 14 */	add r4, r3, r0
/* 803BFAD0 00389090  80 04 13 B4 */	lwz r0, 0x13b4(r4)
/* 803BFAD4 00389094  2C 00 00 00 */	cmpwi r0, 0x0
/* 803BFAD8 00389098  40 82 00 14 */	bne .L_803BFAEC
/* 803BFADC 0038909C  80 84 13 FC */	lwz r4, 0x13fc(r4)
/* 803BFAE0 003890A0  7C A6 2B 78 */	mr r6, r5
/* 803BFAE4 003890A4  38 A0 00 0B */	li r5, 0xb
/* 803BFAE8 003890A8  48 00 EE D4 */	b SFTRN_CallTrtTrif
.L_803BFAEC:
/* 803BFAEC 003890AC  38 60 00 00 */	li r3, 0x0
/* 803BFAF0 003890B0  4E 80 00 20 */	blr
.endfn SFBUF_VfrmGetRead

.fn SFBUF_VfrmAddRead, global
/* 803BFAF4 003890B4  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 803BFAF8 003890B8  7C 08 02 A6 */	mflr r0
/* 803BFAFC 003890BC  7C C7 33 78 */	mr r7, r6
/* 803BFB00 003890C0  38 C0 00 00 */	li r6, 0x0
/* 803BFB04 003890C4  90 01 00 14 */	stw r0, 0x14(r1)
/* 803BFB08 003890C8  1C 04 00 74 */	mulli r0, r4, 0x74
/* 803BFB0C 003890CC  93 E1 00 0C */	stw r31, 0xc(r1)
/* 803BFB10 003890D0  7C 7F 1B 78 */	mr r31, r3
/* 803BFB14 003890D4  7C 83 02 14 */	add r4, r3, r0
/* 803BFB18 003890D8  80 04 13 B4 */	lwz r0, 0x13b4(r4)
/* 803BFB1C 003890DC  2C 00 00 00 */	cmpwi r0, 0x0
/* 803BFB20 003890E0  40 82 00 18 */	bne .L_803BFB38
/* 803BFB24 003890E4  80 84 13 FC */	lwz r4, 0x13fc(r4)
/* 803BFB28 003890E8  7C A6 2B 78 */	mr r6, r5
/* 803BFB2C 003890EC  38 A0 00 0C */	li r5, 0xc
/* 803BFB30 003890F0  48 00 EE 8D */	bl SFTRN_CallTrtTrif
/* 803BFB34 003890F4  7C 66 1B 78 */	mr r6, r3
.L_803BFB38:
/* 803BFB38 003890F8  38 00 00 01 */	li r0, 0x1
/* 803BFB3C 003890FC  7C C3 33 78 */	mr r3, r6
/* 803BFB40 00389100  90 1F 00 4C */	stw r0, 0x4c(r31)
/* 803BFB44 00389104  80 01 00 14 */	lwz r0, 0x14(r1)
/* 803BFB48 00389108  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 803BFB4C 0038910C  7C 08 03 A6 */	mtlr r0
/* 803BFB50 00389110  38 21 00 10 */	addi r1, r1, 0x10
/* 803BFB54 00389114  4E 80 00 20 */	blr
.endfn SFBUF_VfrmAddRead

.fn SFBUF_SetPrepFlg, global
/* 803BFB58 00389118  2C 04 00 08 */	cmpwi r4, 0x8
/* 803BFB5C 0038911C  4D 82 00 20 */	beqlr
/* 803BFB60 00389120  1C 04 00 74 */	mulli r0, r4, 0x74
/* 803BFB64 00389124  7C 63 02 14 */	add r3, r3, r0
/* 803BFB68 00389128  90 A3 13 B8 */	stw r5, 0x13b8(r3)
/* 803BFB6C 0038912C  4E 80 00 20 */	blr
.endfn SFBUF_SetPrepFlg

.fn SFBUF_GetPrepFlg, global
/* 803BFB70 00389130  2C 04 00 08 */	cmpwi r4, 0x8
/* 803BFB74 00389134  40 82 00 0C */	bne .L_803BFB80
/* 803BFB78 00389138  38 60 00 00 */	li r3, 0x0
/* 803BFB7C 0038913C  4E 80 00 20 */	blr
.L_803BFB80:
/* 803BFB80 00389140  1C 04 00 74 */	mulli r0, r4, 0x74
/* 803BFB84 00389144  7C 63 02 14 */	add r3, r3, r0
/* 803BFB88 00389148  80 63 13 B8 */	lwz r3, 0x13b8(r3)
/* 803BFB8C 0038914C  4E 80 00 20 */	blr
.endfn SFBUF_GetPrepFlg

.fn SFBUF_SetTermFlg, global
/* 803BFB90 00389150  2C 04 00 08 */	cmpwi r4, 0x8
/* 803BFB94 00389154  4D 82 00 20 */	beqlr
/* 803BFB98 00389158  1C 04 00 74 */	mulli r0, r4, 0x74
/* 803BFB9C 0038915C  7C 63 02 14 */	add r3, r3, r0
/* 803BFBA0 00389160  90 A3 13 BC */	stw r5, 0x13bc(r3)
/* 803BFBA4 00389164  4E 80 00 20 */	blr
.endfn SFBUF_SetTermFlg

.fn SFBUF_GetTermFlg, global
/* 803BFBA8 00389168  2C 04 00 08 */	cmpwi r4, 0x8
/* 803BFBAC 0038916C  40 82 00 0C */	bne .L_803BFBB8
/* 803BFBB0 00389170  38 60 00 01 */	li r3, 0x1
/* 803BFBB4 00389174  4E 80 00 20 */	blr
.L_803BFBB8:
/* 803BFBB8 00389178  1C 04 00 74 */	mulli r0, r4, 0x74
/* 803BFBBC 0038917C  7C 63 02 14 */	add r3, r3, r0
/* 803BFBC0 00389180  80 63 13 BC */	lwz r3, 0x13bc(r3)
/* 803BFBC4 00389184  4E 80 00 20 */	blr
.endfn SFBUF_GetTermFlg

.fn SFBUF_RingGetDataSiz, global
/* 803BFBC8 00389188  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 803BFBCC 0038918C  7C 08 02 A6 */	mflr r0
/* 803BFBD0 00389190  38 C0 00 01 */	li r6, 0x1
/* 803BFBD4 00389194  90 01 00 34 */	stw r0, 0x34(r1)
/* 803BFBD8 00389198  38 A1 00 08 */	addi r5, r1, 0x8
/* 803BFBDC 0038919C  4B FF F9 4D */	bl sfbuf_RingGetSub
/* 803BFBE0 003891A0  80 61 00 0C */	lwz r3, 0xc(r1)
/* 803BFBE4 003891A4  80 01 00 14 */	lwz r0, 0x14(r1)
/* 803BFBE8 003891A8  7C 63 02 14 */	add r3, r3, r0
/* 803BFBEC 003891AC  80 01 00 34 */	lwz r0, 0x34(r1)
/* 803BFBF0 003891B0  7C 08 03 A6 */	mtlr r0
/* 803BFBF4 003891B4  38 21 00 30 */	addi r1, r1, 0x30
/* 803BFBF8 003891B8  4E 80 00 20 */	blr
.endfn SFBUF_RingGetDataSiz

.fn SFBUF_GetFlowCnt, global
/* 803BFBFC 003891BC  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 803BFC00 003891C0  7C 08 02 A6 */	mflr r0
/* 803BFC04 003891C4  90 01 00 24 */	stw r0, 0x24(r1)
/* 803BFC08 003891C8  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 803BFC0C 003891CC  7C BF 2B 78 */	mr r31, r5
/* 803BFC10 003891D0  93 C1 00 18 */	stw r30, 0x18(r1)
/* 803BFC14 003891D4  7C 9E 23 78 */	mr r30, r4
/* 803BFC18 003891D8  93 A1 00 14 */	stw r29, 0x14(r1)
/* 803BFC1C 003891DC  7C 7D 1B 78 */	mr r29, r3
/* 803BFC20 003891E0  80 C3 00 00 */	lwz r6, 0x0(r3)
/* 803BFC24 003891E4  81 86 00 10 */	lwz r12, 0x10(r6)
/* 803BFC28 003891E8  7D 89 03 A6 */	mtctr r12
/* 803BFC2C 003891EC  4E 80 04 21 */	bctrl
/* 803BFC30 003891F0  3C 80 80 61 */	lis r4, sfbuf_sjrbf_uuid@ha
/* 803BFC34 003891F4  80 04 A2 C8 */	lwz r0, sfbuf_sjrbf_uuid@l(r4)
/* 803BFC38 003891F8  7C 03 00 50 */	subf r0, r3, r0
/* 803BFC3C 003891FC  7C 00 00 34 */	cntlzw r0, r0
/* 803BFC40 00389200  54 00 D9 7F */	srwi. r0, r0, 5
/* 803BFC44 00389204  41 82 00 30 */	beq .L_803BFC74
/* 803BFC48 00389208  7F A3 EB 78 */	mr r3, r29
/* 803BFC4C 0038920C  38 80 00 01 */	li r4, 0x1
/* 803BFC50 00389210  38 A0 00 01 */	li r5, 0x1
/* 803BFC54 00389214  4B FD 59 39 */	bl SJRBF_GetFlowCnt
/* 803BFC58 00389218  90 7E 00 00 */	stw r3, 0x0(r30)
/* 803BFC5C 0038921C  7F A3 EB 78 */	mr r3, r29
/* 803BFC60 00389220  38 80 00 00 */	li r4, 0x0
/* 803BFC64 00389224  38 A0 00 01 */	li r5, 0x1
/* 803BFC68 00389228  4B FD 59 25 */	bl SJRBF_GetFlowCnt
/* 803BFC6C 0038922C  90 7F 00 00 */	stw r3, 0x0(r31)
/* 803BFC70 00389230  48 00 00 70 */	b .L_803BFCE0
.L_803BFC74:
/* 803BFC74 00389234  80 9D 00 00 */	lwz r4, 0x0(r29)
/* 803BFC78 00389238  7F A3 EB 78 */	mr r3, r29
/* 803BFC7C 0038923C  81 84 00 10 */	lwz r12, 0x10(r4)
/* 803BFC80 00389240  7D 89 03 A6 */	mtctr r12
/* 803BFC84 00389244  4E 80 04 21 */	bctrl
/* 803BFC88 00389248  3C 80 80 61 */	lis r4, sfbuf_sjmem_uuid@ha
/* 803BFC8C 0038924C  80 04 A2 CC */	lwz r0, sfbuf_sjmem_uuid@l(r4)
/* 803BFC90 00389250  7C 03 00 50 */	subf r0, r3, r0
/* 803BFC94 00389254  7C 00 00 34 */	cntlzw r0, r0
/* 803BFC98 00389258  54 00 D9 7F */	srwi. r0, r0, 5
/* 803BFC9C 0038925C  41 82 00 38 */	beq .L_803BFCD4
/* 803BFCA0 00389260  7F A3 EB 78 */	mr r3, r29
/* 803BFCA4 00389264  4B FD 45 89 */	bl SJMEM_GetBufSize
/* 803BFCA8 00389268  90 7E 00 00 */	stw r3, 0x0(r30)
/* 803BFCAC 0038926C  7F A3 EB 78 */	mr r3, r29
/* 803BFCB0 00389270  38 80 00 01 */	li r4, 0x1
/* 803BFCB4 00389274  80 BD 00 00 */	lwz r5, 0x0(r29)
/* 803BFCB8 00389278  81 85 00 24 */	lwz r12, 0x24(r5)
/* 803BFCBC 0038927C  7D 89 03 A6 */	mtctr r12
/* 803BFCC0 00389280  4E 80 04 21 */	bctrl
/* 803BFCC4 00389284  80 1E 00 00 */	lwz r0, 0x0(r30)
/* 803BFCC8 00389288  7C 03 00 50 */	subf r0, r3, r0
/* 803BFCCC 0038928C  90 1F 00 00 */	stw r0, 0x0(r31)
/* 803BFCD0 00389290  48 00 00 10 */	b .L_803BFCE0
.L_803BFCD4:
/* 803BFCD4 00389294  38 00 00 00 */	li r0, 0x0
/* 803BFCD8 00389298  90 1E 00 00 */	stw r0, 0x0(r30)
/* 803BFCDC 0038929C  90 1F 00 00 */	stw r0, 0x0(r31)
.L_803BFCE0:
/* 803BFCE0 003892A0  80 01 00 24 */	lwz r0, 0x24(r1)
/* 803BFCE4 003892A4  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 803BFCE8 003892A8  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 803BFCEC 003892AC  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 803BFCF0 003892B0  7C 08 03 A6 */	mtlr r0
/* 803BFCF4 003892B4  38 21 00 20 */	addi r1, r1, 0x20
/* 803BFCF8 003892B8  4E 80 00 20 */	blr
.endfn SFBUF_GetFlowCnt

.fn SFBUF_UpdateFlowCnt, global
/* 803BFCFC 003892BC  7C 80 2A 78 */	xor r0, r4, r5
/* 803BFD00 003892C0  7C 00 00 34 */	cntlzw r0, r0
/* 803BFD04 003892C4  7C 80 00 30 */	slw r0, r4, r0
/* 803BFD08 003892C8  7C A4 2B 78 */	mr r4, r5
/* 803BFD0C 003892CC  54 05 0F FE */	srwi r5, r0, 31
/* 803BFD10 003892D0  7C A0 FE 70 */	srawi r0, r5, 31
/* 803BFD14 003892D4  7C 60 FE 70 */	srawi r0, r3, 31
/* 803BFD18 003892D8  7C 63 28 14 */	addc r3, r3, r5
/* 803BFD1C 003892DC  4E 80 00 20 */	blr
.endfn SFBUF_UpdateFlowCnt

.fn fn_803BFD20, global
/* 803BFD20 003892E0  3C 80 80 61 */	lis r4, lbl_8060A2D0@ha
/* 803BFD24 003892E4  80 64 A2 D0 */	lwz r3, lbl_8060A2D0@l(r4)
/* 803BFD28 003892E8  38 03 00 01 */	addi r0, r3, 0x1
/* 803BFD2C 003892EC  90 04 A2 D0 */	stw r0, lbl_8060A2D0@l(r4)
/* 803BFD30 003892F0  80 04 A2 D0 */	lwz r0, lbl_8060A2D0@l(r4)
/* 803BFD34 003892F4  4E 80 00 20 */	blr
.endfn fn_803BFD20

# 0x8060A2C8 - 0x8060A2D8
.section .bss, "wa", @nobits
.balign 8

.obj sfbuf_sjrbf_uuid, global
	.skip 0x4

.obj sfbuf_sjmem_uuid, global
	.skip 0x4
.sym lbl_8060A2D0, global
	.skip 0x8
