.include "macros.inc"

.section .text, "ax"  # 0x80039220 - 0x804F5900

.fn UTY_MulDivRound64, global
/* 803D45A0 0039DB60  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 803D45A4 0039DB64  7C 08 02 A6 */	mflr r0
/* 803D45A8 0039DB68  7C AB 2B 78 */	mr r11, r5
/* 803D45AC 0039DB6C  7C CC 33 78 */	mr r12, r6
/* 803D45B0 0039DB70  90 01 00 14 */	stw r0, 0x14(r1)
/* 803D45B4 0039DB74  7D 00 3B 79 */	or. r0, r8, r7
/* 803D45B8 0039DB78  93 E1 00 0C */	stw r31, 0xc(r1)
/* 803D45BC 0039DB7C  40 82 00 48 */	bne .L_803D4604
/* 803D45C0 0039DB80  7C 60 2A 78 */	xor r0, r3, r5
/* 803D45C4 0039DB84  38 60 00 00 */	li r3, 0
/* 803D45C8 0039DB88  7C 85 32 78 */	xor r5, r4, r6
/* 803D45CC 0039DB8C  6C 64 80 00 */	xoris r4, r3, 0x8000
/* 803D45D0 0039DB90  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 803D45D4 0039DB94  7C 63 28 10 */	subfc r3, r3, r5
/* 803D45D8 0039DB98  7C 84 01 10 */	subfe r4, r4, r0
/* 803D45DC 0039DB9C  7C 80 01 10 */	subfe r4, r0, r0
/* 803D45E0 0039DBA0  7C 84 00 D1 */	neg. r4, r4
/* 803D45E4 0039DBA4  40 82 00 14 */	bne .L_803D45F8
/* 803D45E8 0039DBA8  3C 60 80 00 */	lis r3, 0x7FFFFFFF@ha
/* 803D45EC 0039DBAC  38 80 FF FF */	li r4, -1
/* 803D45F0 0039DBB0  38 63 FF FF */	addi r3, r3, 0x7FFFFFFF@l
/* 803D45F4 0039DBB4  48 00 00 F0 */	b .L_803D46E4
.L_803D45F8:
/* 803D45F8 0039DBB8  38 80 00 00 */	li r4, 0
/* 803D45FC 0039DBBC  3C 60 80 00 */	lis r3, 0x8000
/* 803D4600 0039DBC0  48 00 00 E4 */	b .L_803D46E4
.L_803D4604:
/* 803D4604 0039DBC4  39 20 00 00 */	li r9, 0
/* 803D4608 0039DBC8  6C 60 80 00 */	xoris r0, r3, 0x8000
/* 803D460C 0039DBCC  6D 2A 80 00 */	xoris r10, r9, 0x8000
/* 803D4610 0039DBD0  3B E0 00 01 */	li r31, 1
/* 803D4614 0039DBD4  7D 29 20 10 */	subfc r9, r9, r4
/* 803D4618 0039DBD8  7D 4A 01 10 */	subfe r10, r10, r0
/* 803D461C 0039DBDC  7D 40 01 10 */	subfe r10, r0, r0
/* 803D4620 0039DBE0  7D 4A 00 D1 */	neg. r10, r10
/* 803D4624 0039DBE4  41 82 00 10 */	beq .L_803D4634
/* 803D4628 0039DBE8  20 84 00 00 */	subfic r4, r4, 0
/* 803D462C 0039DBEC  3B E0 FF FF */	li r31, -1
/* 803D4630 0039DBF0  7C 63 01 90 */	subfze r3, r3
.L_803D4634:
/* 803D4634 0039DBF4  39 20 00 00 */	li r9, 0
/* 803D4638 0039DBF8  6C A0 80 00 */	xoris r0, r5, 0x8000
/* 803D463C 0039DBFC  6D 2A 80 00 */	xoris r10, r9, 0x8000
/* 803D4640 0039DC00  7D 29 30 10 */	subfc r9, r9, r6
/* 803D4644 0039DC04  7D 4A 01 10 */	subfe r10, r10, r0
/* 803D4648 0039DC08  7D 40 01 10 */	subfe r10, r0, r0
/* 803D464C 0039DC0C  7D 4A 00 D1 */	neg. r10, r10
/* 803D4650 0039DC10  41 82 00 10 */	beq .L_803D4660
/* 803D4654 0039DC14  21 86 00 00 */	subfic r12, r6, 0
/* 803D4658 0039DC18  7F FF 00 D0 */	neg r31, r31
/* 803D465C 0039DC1C  7D 65 01 90 */	subfze r11, r5
.L_803D4660:
/* 803D4660 0039DC20  38 A0 00 00 */	li r5, 0
/* 803D4664 0039DC24  6C E0 80 00 */	xoris r0, r7, 0x8000
/* 803D4668 0039DC28  6C A6 80 00 */	xoris r6, r5, 0x8000
/* 803D466C 0039DC2C  7C A5 40 10 */	subfc r5, r5, r8
/* 803D4670 0039DC30  7C C6 01 10 */	subfe r6, r6, r0
/* 803D4674 0039DC34  7C C0 01 10 */	subfe r6, r0, r0
/* 803D4678 0039DC38  7C C6 00 D1 */	neg. r6, r6
/* 803D467C 0039DC3C  41 82 00 10 */	beq .L_803D468C
/* 803D4680 0039DC40  21 08 00 00 */	subfic r8, r8, 0
/* 803D4684 0039DC44  7F FF 00 D0 */	neg r31, r31
/* 803D4688 0039DC48  7C E7 01 90 */	subfze r7, r7
.L_803D468C:
/* 803D468C 0039DC4C  7C 04 60 16 */	mulhwu r0, r4, r12
/* 803D4690 0039DC50  7C E5 3B 78 */	mr r5, r7
/* 803D4694 0039DC54  55 0A F8 3E */	rotlwi r10, r8, 0x1f
/* 803D4698 0039DC58  51 05 07 FE */	rlwimi r5, r8, 0, 0x1f, 0x1f
/* 803D469C 0039DC5C  50 EA F8 00 */	rlwimi r10, r7, 0x1f, 0, 0
/* 803D46A0 0039DC60  7C A9 0E 70 */	srawi r9, r5, 1
/* 803D46A4 0039DC64  7C 63 61 D6 */	mullw r3, r3, r12
/* 803D46A8 0039DC68  7C E5 3B 78 */	mr r5, r7
/* 803D46AC 0039DC6C  7D 4A 01 94 */	addze r10, r10
/* 803D46B0 0039DC70  7D 29 01 94 */	addze r9, r9
/* 803D46B4 0039DC74  7D 06 43 78 */	mr r6, r8
/* 803D46B8 0039DC78  7C 60 1A 14 */	add r3, r0, r3
/* 803D46BC 0039DC7C  7C 04 59 D6 */	mullw r0, r4, r11
/* 803D46C0 0039DC80  7C E4 61 D6 */	mullw r7, r4, r12
/* 803D46C4 0039DC84  7C 03 02 14 */	add r0, r3, r0
/* 803D46C8 0039DC88  7C 8A 38 14 */	addc r4, r10, r7
/* 803D46CC 0039DC8C  7C 69 01 14 */	adde r3, r9, r0
/* 803D46D0 0039DC90  4B EE 5B D5 */	bl __div2i
/* 803D46D4 0039DC94  2C 1F 00 00 */	cmpwi r31, 0
/* 803D46D8 0039DC98  40 80 00 0C */	bge .L_803D46E4
/* 803D46DC 0039DC9C  20 84 00 00 */	subfic r4, r4, 0
/* 803D46E0 0039DCA0  7C 63 01 90 */	subfze r3, r3
.L_803D46E4:
/* 803D46E4 0039DCA4  80 01 00 14 */	lwz r0, 0x14(r1)
/* 803D46E8 0039DCA8  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 803D46EC 0039DCAC  7C 08 03 A6 */	mtlr r0
/* 803D46F0 0039DCB0  38 21 00 10 */	addi r1, r1, 0x10
/* 803D46F4 0039DCB4  4E 80 00 20 */	blr 
.endfn UTY_MulDivRound64
