.include "macros.inc"

.section .text, "ax"  # 0x80039220 - 0x804F5900

.global TRKNubMainLoop
TRKNubMainLoop:
/* 802CBA90 00295050  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 802CBA94 00295054  7C 08 02 A6 */	mflr r0
/* 802CBA98 00295058  90 01 00 24 */	stw r0, 0x24(r1)
/* 802CBA9C 0029505C  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 802CBAA0 00295060  3B E0 00 00 */	li r31, 0
/* 802CBAA4 00295064  93 C1 00 18 */	stw r30, 0x18(r1)
/* 802CBAA8 00295068  3B C0 00 00 */	li r30, 0
/* 802CBAAC 0029506C  48 00 00 B0 */	b lbl_802CBB5C
lbl_802CBAB0:
/* 802CBAB0 00295070  38 61 00 08 */	addi r3, r1, 8
/* 802CBAB4 00295074  48 00 0B C1 */	bl TRKGetNextEvent
/* 802CBAB8 00295078  2C 03 00 00 */	cmpwi r3, 0
/* 802CBABC 0029507C  41 82 00 68 */	beq lbl_802CBB24
/* 802CBAC0 00295080  80 61 00 08 */	lwz r3, 8(r1)
/* 802CBAC4 00295084  3B C0 00 00 */	li r30, 0
/* 802CBAC8 00295088  38 03 FF FD */	addi r0, r3, -3
/* 802CBACC 0029508C  28 00 00 01 */	cmplwi r0, 1
/* 802CBAD0 00295090  40 81 00 38 */	ble lbl_802CBB08
/* 802CBAD4 00295094  2C 03 00 02 */	cmpwi r3, 2
/* 802CBAD8 00295098  41 82 00 18 */	beq lbl_802CBAF0
/* 802CBADC 0029509C  2C 03 00 01 */	cmpwi r3, 1
/* 802CBAE0 002950A0  41 82 00 20 */	beq lbl_802CBB00
/* 802CBAE4 002950A4  2C 03 00 05 */	cmpwi r3, 5
/* 802CBAE8 002950A8  41 82 00 2C */	beq lbl_802CBB14
/* 802CBAEC 002950AC  48 00 00 2C */	b lbl_802CBB18
lbl_802CBAF0:
/* 802CBAF0 002950B0  80 61 00 10 */	lwz r3, 0x10(r1)
/* 802CBAF4 002950B4  48 00 1A 4D */	bl TRKGetBuffer
/* 802CBAF8 002950B8  48 00 02 E9 */	bl TRKDispatchMessage
/* 802CBAFC 002950BC  48 00 00 1C */	b lbl_802CBB18
lbl_802CBB00:
/* 802CBB00 002950C0  3B E0 00 01 */	li r31, 1
/* 802CBB04 002950C4  48 00 00 14 */	b lbl_802CBB18
lbl_802CBB08:
/* 802CBB08 002950C8  38 61 00 08 */	addi r3, r1, 8
/* 802CBB0C 002950CC  48 00 3E C1 */	bl TRKPostInterruptEvent
/* 802CBB10 002950D0  48 00 00 08 */	b lbl_802CBB18
lbl_802CBB14:
/* 802CBB14 002950D4  48 00 43 E1 */	bl TRKTargetSupportRequest
lbl_802CBB18:
/* 802CBB18 002950D8  38 61 00 08 */	addi r3, r1, 8
/* 802CBB1C 002950DC  48 00 0C C9 */	bl TRKDestructEvent
/* 802CBB20 002950E0  48 00 00 3C */	b lbl_802CBB5C
lbl_802CBB24:
/* 802CBB24 002950E4  2C 1E 00 00 */	cmpwi r30, 0
/* 802CBB28 002950E8  41 82 00 14 */	beq lbl_802CBB3C
/* 802CBB2C 002950EC  80 6D B4 08 */	lwz r3, lbl_80667588@sda21(r13)
/* 802CBB30 002950F0  88 03 00 00 */	lbz r0, 0(r3)
/* 802CBB34 002950F4  2C 00 00 00 */	cmpwi r0, 0
/* 802CBB38 002950F8  41 82 00 10 */	beq lbl_802CBB48
lbl_802CBB3C:
/* 802CBB3C 002950FC  3B C0 00 01 */	li r30, 1
/* 802CBB40 00295100  48 00 0E C9 */	bl TRKGetInput
/* 802CBB44 00295104  48 00 00 18 */	b lbl_802CBB5C
lbl_802CBB48:
/* 802CBB48 00295108  48 00 45 A1 */	bl TRKTargetStopped
/* 802CBB4C 0029510C  2C 03 00 00 */	cmpwi r3, 0
/* 802CBB50 00295110  40 82 00 08 */	bne lbl_802CBB58
/* 802CBB54 00295114  48 00 15 71 */	bl TRKTargetContinue
lbl_802CBB58:
/* 802CBB58 00295118  3B C0 00 00 */	li r30, 0
lbl_802CBB5C:
/* 802CBB5C 0029511C  2C 1F 00 00 */	cmpwi r31, 0
/* 802CBB60 00295120  41 82 FF 50 */	beq lbl_802CBAB0
/* 802CBB64 00295124  80 01 00 24 */	lwz r0, 0x24(r1)
/* 802CBB68 00295128  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 802CBB6C 0029512C  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 802CBB70 00295130  7C 08 03 A6 */	mtlr r0
/* 802CBB74 00295134  38 21 00 20 */	addi r1, r1, 0x20
/* 802CBB78 00295138  4E 80 00 20 */	blr 