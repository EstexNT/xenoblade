RVL_SDK_FILES:=\
	$(BUILD_DIR)/asm/RevoSDK/ai/ai.o\
	$(BUILD_DIR)/src/RevoSDK/arc/arc.o\
	$(BUILD_DIR)/asm/RevoSDK/ax/AX.o\
	$(BUILD_DIR)/asm/RevoSDK/ax/AXAlloc.o\
	$(BUILD_DIR)/asm/RevoSDK/ax/AXAux.o\
	$(BUILD_DIR)/asm/RevoSDK/ax/AXCL.o\
	$(BUILD_DIR)/asm/RevoSDK/ax/AXOut.o\
	$(BUILD_DIR)/asm/RevoSDK/ax/AXSPB.o\
	$(BUILD_DIR)/asm/RevoSDK/ax/AXVPB.o\
	$(BUILD_DIR)/asm/RevoSDK/ax/AXProf.o\
	$(BUILD_DIR)/asm/RevoSDK/axfx/AXFXReverbHi.o\
	$(BUILD_DIR)/asm/RevoSDK/axfx/AXFXReverbHiExp.o\
	$(BUILD_DIR)/asm/RevoSDK/axfx/AXFXDelayExp.o\
	$(BUILD_DIR)/asm/RevoSDK/axfx/AXFXDelayExpDpl2.o\
	$(BUILD_DIR)/asm/RevoSDK/axfx/AXFXReverbStdExp.o\
	$(BUILD_DIR)/asm/RevoSDK/axfx/AXFXReverbStdExpDpl2.o\
	$(BUILD_DIR)/asm/RevoSDK/axfx/AXFXChorusExp.o\
	$(BUILD_DIR)/asm/RevoSDK/axfx/AXFXChorusExpDpl2.o\
	$(BUILD_DIR)/asm/RevoSDK/axfx/AXFXLfoTable.o\
	$(BUILD_DIR)/asm/RevoSDK/axfx/AXFXSrcCoef.o\
	$(BUILD_DIR)/asm/RevoSDK/axfx/AXFXHooks.o\
	$(BUILD_DIR)/src/RevoSDK/base/PPCArch.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/gki_buffer.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/gki_time.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/gki_ppc.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/hcisu_h2.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/uusb_ppc.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/bte_hcisu.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/bte_init.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/bte_logmsg.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/bte_main.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/btu_task1.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/bd.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/bta_sys_conn.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/bta_sys_main.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/ptim.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/utl.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/bta_dm_act.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/bta_dm_api.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/bta_dm_main.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/bta_dm_pm.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/bta_hh_act.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/bta_hh_api.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/bta_hh_main.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/bta_hh_utils.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/btm_acl.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/btm_dev.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/btm_devctl.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/btm_discovery.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/btm_inq.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/btm_main.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/btm_pm.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/btm_sco.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/btm_sec.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/btu_hcif.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/btu_init.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/wbt_ext.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/gap_api.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/gap_conn.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/gap_utils.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/hcicmds.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/hidd_api.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/hidd_conn.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/hidd_mgmt.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/hidd_pm.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/hidh_api.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/hidh_conn.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/l2c_api.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/l2c_csm.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/l2c_link.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/l2c_main.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/l2c_utils.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/port_api.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/port_rfc.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/port_utils.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/rfc_l2cap_if.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/rfc_mx_fsm.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/rfc_port_fsm.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/rfc_port_if.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/rfc_ts_frames.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/rfc_utils.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/sdp_api.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/sdp_db.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/sdp_discovery.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/sdp_main.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/sdp_server.o\
	$(BUILD_DIR)/asm/RevoSDK/bte/sdp_utils.o\
	$(BUILD_DIR)/asm/RevoSDK/cx/CXStreamingUncompression.o\
	$(BUILD_DIR)/asm/RevoSDK/cx/CXUncompression.o\
	$(BUILD_DIR)/src/RevoSDK/cx/CXSecureUncompression.o\
	$(BUILD_DIR)/asm/RevoSDK/db/db.o\
	$(BUILD_DIR)/asm/RevoSDK/dsp/dsp.o\
	$(BUILD_DIR)/asm/RevoSDK/dsp/dsp_debug.o\
	$(BUILD_DIR)/asm/RevoSDK/dsp/dsp_task.o\
	$(BUILD_DIR)/asm/RevoSDK/dvd/dvdfs.o\
	$(BUILD_DIR)/asm/RevoSDK/dvd/dvd.o\
	$(BUILD_DIR)/asm/RevoSDK/dvd/dvdqueue.o\
	$(BUILD_DIR)/asm/RevoSDK/dvd/dvderror.o\
	$(BUILD_DIR)/src/RevoSDK/dvd/dvdidutils.o\
	$(BUILD_DIR)/asm/RevoSDK/dvd/dvdFatal.o\
	$(BUILD_DIR)/asm/RevoSDK/dvd/dvdDeviceError.o\
	$(BUILD_DIR)/asm/RevoSDK/dvd/dvd_broadway.o\
	$(BUILD_DIR)/asm/RevoSDK/enc/encutility.o\
	$(BUILD_DIR)/asm/RevoSDK/enc/enc.o\
	$(BUILD_DIR)/asm/RevoSDK/esp/esp.o\
	$(BUILD_DIR)/asm/RevoSDK/euart/euart.o\
	$(BUILD_DIR)/asm/RevoSDK/exi/EXIBios.o\
	$(BUILD_DIR)/asm/RevoSDK/exi/EXIUart.o\
	$(BUILD_DIR)/asm/RevoSDK/exi/EXICommon.o\
	$(BUILD_DIR)/asm/RevoSDK/fs/fs.o\
	$(BUILD_DIR)/asm/RevoSDK/gx/GXInit.o\
	$(BUILD_DIR)/asm/RevoSDK/gx/GXFifo.o\
	$(BUILD_DIR)/asm/RevoSDK/gx/GXAttr.o\
	$(BUILD_DIR)/asm/RevoSDK/gx/GXMisc.o\
	$(BUILD_DIR)/asm/RevoSDK/gx/GXGeometry.o\
	$(BUILD_DIR)/asm/RevoSDK/gx/GXFrameBuf.o\
	$(BUILD_DIR)/asm/RevoSDK/gx/GXLight.o\
	$(BUILD_DIR)/asm/RevoSDK/gx/GXTexture.o\
	$(BUILD_DIR)/asm/RevoSDK/gx/GXBump.o\
	$(BUILD_DIR)/asm/RevoSDK/gx/GXTev.o\
	$(BUILD_DIR)/asm/RevoSDK/gx/GXPixel.o\
	$(BUILD_DIR)/asm/RevoSDK/gx/GXDisplayList.o\
	$(BUILD_DIR)/asm/RevoSDK/gx/GXTransform.o\
	$(BUILD_DIR)/asm/RevoSDK/gx/GXPerf.o\
	$(BUILD_DIR)/asm/RevoSDK/hbm/HBMFrameController.o\
	$(BUILD_DIR)/asm/RevoSDK/hbm/HBMAnmController.o\
	$(BUILD_DIR)/asm/RevoSDK/hbm/HBMGUIManager.o\
	$(BUILD_DIR)/asm/RevoSDK/hbm/HBMController.o\
	$(BUILD_DIR)/asm/RevoSDK/hbm/HBMRemoteSpk.o\
	$(BUILD_DIR)/asm/RevoSDK/hbm/HBMAxSound.o\
	$(BUILD_DIR)/asm/RevoSDK/hbm/HBMBase.o\
	$(BUILD_DIR)/asm/RevoSDK/hbm/nw4hbm/lyt/lyt_animation.o\
	$(BUILD_DIR)/asm/RevoSDK/hbm/nw4hbm/lyt/lyt_arcResourceAccessor.o\
	$(BUILD_DIR)/asm/RevoSDK/hbm/nw4hbm/lyt/lyt_bounding.o\
	$(BUILD_DIR)/asm/RevoSDK/hbm/nw4hbm/lyt/lyt_common.o\
	$(BUILD_DIR)/asm/RevoSDK/hbm/nw4hbm/lyt/lyt_drawInfo.o\
	$(BUILD_DIR)/asm/RevoSDK/hbm/nw4hbm/lyt/lyt_group.o\
	$(BUILD_DIR)/asm/RevoSDK/hbm/nw4hbm/lyt/lyt_layout.o\
	$(BUILD_DIR)/asm/RevoSDK/hbm/nw4hbm/lyt/lyt_material.o\
	$(BUILD_DIR)/asm/RevoSDK/hbm/nw4hbm/lyt/lyt_pane.o\
	$(BUILD_DIR)/asm/RevoSDK/hbm/nw4hbm/lyt/lyt_picture.o\
	$(BUILD_DIR)/asm/RevoSDK/hbm/nw4hbm/lyt/lyt_resourceAccessor.o\
	$(BUILD_DIR)/asm/RevoSDK/hbm/nw4hbm/lyt/lyt_textBox.o\
	$(BUILD_DIR)/asm/RevoSDK/hbm/nw4hbm/lyt/lyt_window.o\
	$(BUILD_DIR)/asm/RevoSDK/hbm/nw4hbm/math/math_triangular.o\
	$(BUILD_DIR)/asm/RevoSDK/hbm/nw4hbm/ut/ut_binaryFileFormat.o\
	$(BUILD_DIR)/asm/RevoSDK/hbm/nw4hbm/ut/ut_CharWriter.o\
	$(BUILD_DIR)/asm/RevoSDK/hbm/nw4hbm/ut/ut_Font.o\
	$(BUILD_DIR)/asm/RevoSDK/hbm/nw4hbm/ut/ut_LinkList.o\
	$(BUILD_DIR)/asm/RevoSDK/hbm/nw4hbm/ut/ut_list.o\
	$(BUILD_DIR)/asm/RevoSDK/hbm/nw4hbm/ut/ut_ResFont.o\
	$(BUILD_DIR)/asm/RevoSDK/hbm/nw4hbm/ut/ut_ResFontBase.o\
	$(BUILD_DIR)/asm/RevoSDK/hbm/nw4hbm/ut/ut_TagProcessorBase.o\
	$(BUILD_DIR)/asm/RevoSDK/hbm/nw4hbm/ut/ut_TextWriterBase.o\
	$(BUILD_DIR)/asm/RevoSDK/hbm/mix.o\
	$(BUILD_DIR)/asm/RevoSDK/hbm/syn.o\
	$(BUILD_DIR)/asm/RevoSDK/hbm/synctrl.o\
	$(BUILD_DIR)/asm/RevoSDK/hbm/synenv.o\
	$(BUILD_DIR)/asm/RevoSDK/hbm/synmix.o\
	$(BUILD_DIR)/asm/RevoSDK/hbm/synpitch.o\
	$(BUILD_DIR)/asm/RevoSDK/hbm/synsample.o\
	$(BUILD_DIR)/asm/RevoSDK/hbm/synvoice.o\
	$(BUILD_DIR)/asm/RevoSDK/hbm/seq.o\
	$(BUILD_DIR)/asm/RevoSDK/ipc/ipcMain.o\
	$(BUILD_DIR)/asm/RevoSDK/ipc/ipcclt.o\
	$(BUILD_DIR)/asm/RevoSDK/ipc/memory.o\
	$(BUILD_DIR)/asm/RevoSDK/ipc/ipcProfile.o\
	$(BUILD_DIR)/asm/RevoSDK/kpad/kpad.o\
	$(BUILD_DIR)/asm/RevoSDK/mem/mem_heapCommon.o\
	$(BUILD_DIR)/asm/RevoSDK/mem/mem_expHeap.o\
	$(BUILD_DIR)/asm/RevoSDK/mem/mem_frameHeap.o\
	$(BUILD_DIR)/asm/RevoSDK/mem/mem_allocator.o\
	$(BUILD_DIR)/asm/RevoSDK/mem/mem_list.o\
	$(BUILD_DIR)/asm/RevoSDK/mix/mix.o\
	$(BUILD_DIR)/asm/RevoSDK/mix/remote.o\
	$(BUILD_DIR)/asm/RevoSDK/mtx/mtx.o\
	$(BUILD_DIR)/asm/RevoSDK/mtx/mtxvec.o\
	$(BUILD_DIR)/asm/RevoSDK/mtx/mtx44.o\
	$(BUILD_DIR)/asm/RevoSDK/mtx/vec.o\
	$(BUILD_DIR)/asm/RevoSDK/mtx/quat.o\
	$(BUILD_DIR)/asm/RevoSDK/nand/nand.o\
	$(BUILD_DIR)/asm/RevoSDK/nand/NANDOpenClose.o\
	$(BUILD_DIR)/asm/RevoSDK/nand/NANDCore.o\
	$(BUILD_DIR)/asm/RevoSDK/nand/NANDCheck.o\
	$(BUILD_DIR)/asm/RevoSDK/nand/NANDLogging.o\
	$(BUILD_DIR)/asm/RevoSDK/os/OS.o\
	$(BUILD_DIR)/asm/RevoSDK/os/OSAlarm.o\
	$(BUILD_DIR)/asm/RevoSDK/os/OSAlloc.o\
	$(BUILD_DIR)/asm/RevoSDK/os/OSArena.o\
	$(BUILD_DIR)/asm/RevoSDK/os/OSAudioSystem.o\
	$(BUILD_DIR)/asm/RevoSDK/os/OSCache.o\
	$(BUILD_DIR)/asm/RevoSDK/os/OSContext.o\
	$(BUILD_DIR)/asm/RevoSDK/os/OSError.o\
	$(BUILD_DIR)/asm/RevoSDK/os/OSExec.o\
	$(BUILD_DIR)/asm/RevoSDK/os/OSFatal.o\
	$(BUILD_DIR)/asm/RevoSDK/os/OSFont.o\
	$(BUILD_DIR)/asm/RevoSDK/os/OSInterrupt.o\
	$(BUILD_DIR)/asm/RevoSDK/os/OSMessage.o\
	$(BUILD_DIR)/asm/RevoSDK/os/OSMemory.o\
	$(BUILD_DIR)/asm/RevoSDK/os/OSMutex.o\
	$(BUILD_DIR)/asm/RevoSDK/os/OSReboot.o\
	$(BUILD_DIR)/asm/RevoSDK/os/OSReset.o\
	$(BUILD_DIR)/asm/RevoSDK/os/OSRtc.o\
	$(BUILD_DIR)/asm/RevoSDK/os/OSSync.o\
	$(BUILD_DIR)/asm/RevoSDK/os/OSThread.o\
	$(BUILD_DIR)/asm/RevoSDK/os/OSTime.o\
	$(BUILD_DIR)/asm/RevoSDK/os/OSUtf.o\
	$(BUILD_DIR)/asm/RevoSDK/os/OSIpc.o\
	$(BUILD_DIR)/asm/RevoSDK/os/OSStateTM.o\
	$(BUILD_DIR)/src/RevoSDK/os/__start.o\
	$(BUILD_DIR)/asm/RevoSDK/os/OSPlayRecord.o\
	$(BUILD_DIR)/asm/RevoSDK/os/OSStateFlags.o\
	$(BUILD_DIR)/asm/RevoSDK/os/OSNet.o\
	$(BUILD_DIR)/asm/RevoSDK/os/OSNandbootInfo.o\
	$(BUILD_DIR)/asm/RevoSDK/os/OSPlayTime.o\
	$(BUILD_DIR)/asm/RevoSDK/os/OSCrc.o\
	$(BUILD_DIR)/asm/RevoSDK/os/OSLaunch.o\
	$(BUILD_DIR)/asm/RevoSDK/os/__ppc_eabi_init.o\
	$(BUILD_DIR)/asm/RevoSDK/pad/Pad.o\
	$(BUILD_DIR)/asm/RevoSDK/sc/scsystem.o\
	$(BUILD_DIR)/asm/RevoSDK/sc/scapi.o\
	$(BUILD_DIR)/asm/RevoSDK/sc/scapi_prdinfo.o\
	$(BUILD_DIR)/asm/RevoSDK/si/SIBios.o\
	$(BUILD_DIR)/asm/RevoSDK/si/SISamplingRate.o\
	$(BUILD_DIR)/asm/RevoSDK/tpl/TPL.o\
	$(BUILD_DIR)/asm/RevoSDK/usb/usb.o\
	$(BUILD_DIR)/asm/RevoSDK/vi/vi.o\
	$(BUILD_DIR)/asm/RevoSDK/vi/i2c.o\
	$(BUILD_DIR)/asm/RevoSDK/vi/vi3in1.o\
	$(BUILD_DIR)/asm/RevoSDK/wenc/wenc.o\
	$(BUILD_DIR)/asm/RevoSDK/wpad/WPAD.o\
	$(BUILD_DIR)/asm/RevoSDK/wpad/WPADHIDParser.o\
	$(BUILD_DIR)/asm/RevoSDK/wpad/WPADEncrypt.o\
	$(BUILD_DIR)/asm/RevoSDK/wpad/WPADMem.o\
	$(BUILD_DIR)/asm/RevoSDK/wpad/debug_msg.o\
	$(BUILD_DIR)/asm/RevoSDK/wud/WUD.o\
	$(BUILD_DIR)/asm/RevoSDK/wud/WUDHidHost.o\
	$(BUILD_DIR)/asm/RevoSDK/wud/debug_msg.o\

#Wii SDK uses Wii 1.0
$(RVL_SDK_FILES): MWCC_VERSION := 1.0

#CXSecureUncompression.c needs 1.1
$(BUILD_DIR)/src/RevoSDK/cx/CXSecureUncompression.o: MWCC_VERSION := 1.1

#All the functions in the Wii SDK except for bte are aligned to 16 bytes, so this is necessary.
$(RVL_SDK_FILES): CFLAGS += -Cpp_exceptions off -inline on -func_align 16

#arc.c doesn't use -use_lmw_stmw on, and uses -ipa file and (maybe rest of wii sdk too?)
$(BUILD_DIR)/src/RevoSDK/arc/arc.o: CFLAGS = -Cpp_exceptions off -enum int -inline auto -ipa file -proc gekko -fp hard -O4,p -nodefaults -func_align 16 $(INCLUDES)

DEPENDS += $(RVL_SDK_FILES:.o=.d)

$(BUILD_DIR)/src/RevoSDK/RevoSDK.a: $(RVL_SDK_FILES)
	@echo Linking... $@
	$(QUIET) mkdir -p $(dir $@)
	@echo $(RVL_SDK_FILES) > build/RVL_SDK_ofiles
	$(QUIET) $(LD) -library $(LIBRARY_LDFLAGS) -o $@ -lcf ldscript.lcf @build/RVL_SDK_ofiles