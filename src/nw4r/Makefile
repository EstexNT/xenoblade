NW4R_FILES:=\
	$(BUILD_DIR)/asm/nw4r/db/db_console.o\
	$(BUILD_DIR)/asm/nw4r/db/db_assert.o\
	$(BUILD_DIR)/asm/nw4r/g3d/res/g3d_rescommon.o\
	$(BUILD_DIR)/asm/nw4r/g3d/res/g3d_resdict.o\
	$(BUILD_DIR)/asm/nw4r/g3d/res/g3d_resfile.o\
	$(BUILD_DIR)/asm/nw4r/g3d/res/g3d_resmdl.o\
	$(BUILD_DIR)/asm/nw4r/g3d/res/g3d_resshp.o\
	$(BUILD_DIR)/asm/nw4r/g3d/res/g3d_restev.o\
	$(BUILD_DIR)/asm/nw4r/g3d/res/g3d_resmat.o\
	$(BUILD_DIR)/asm/nw4r/g3d/res/g3d_resvtx.o\
	$(BUILD_DIR)/asm/nw4r/g3d/res/g3d_restex.o\
	$(BUILD_DIR)/asm/nw4r/g3d/res/g3d_resnode.o\
	$(BUILD_DIR)/asm/nw4r/g3d/res/g3d_resanm.o\
	$(BUILD_DIR)/asm/nw4r/g3d/res/g3d_resanmclr.o\
	$(BUILD_DIR)/asm/nw4r/g3d/res/g3d_resanmtexpat.o\
	$(BUILD_DIR)/asm/nw4r/g3d/res/g3d_resanmtexsrt.o\
	$(BUILD_DIR)/asm/nw4r/g3d/res/g3d_resanmchr.o\
	$(BUILD_DIR)/asm/nw4r/g3d/res/g3d_reslightset.o\
	$(BUILD_DIR)/asm/nw4r/g3d/res/g3d_resanmamblight.o\
	$(BUILD_DIR)/asm/nw4r/g3d/res/g3d_resanmlight.o\
	$(BUILD_DIR)/asm/nw4r/g3d/res/g3d_resanmfog.o\
	$(BUILD_DIR)/asm/nw4r/g3d/res/g3d_resanmcamera.o\
	$(BUILD_DIR)/asm/nw4r/g3d/res/g3d_resanmscn.o\
	$(BUILD_DIR)/asm/nw4r/g3d/g3d_transform.o\
	$(BUILD_DIR)/asm/nw4r/g3d/g3d_anmvis.o\
	$(BUILD_DIR)/asm/nw4r/g3d/g3d_anmclr.o\
	$(BUILD_DIR)/asm/nw4r/g3d/g3d_anmtexpat.o\
	$(BUILD_DIR)/asm/nw4r/g3d/g3d_anmtexsrt.o\
	$(BUILD_DIR)/asm/nw4r/g3d/g3d_anmchr.o\
	$(BUILD_DIR)/asm/nw4r/g3d/g3d_anmshp.o\
	$(BUILD_DIR)/asm/nw4r/g3d/g3d_anmscn.o\
	$(BUILD_DIR)/asm/nw4r/g3d/g3d_obj.o\
	$(BUILD_DIR)/asm/nw4r/g3d/g3d_anmobj.o\
	$(BUILD_DIR)/asm/nw4r/g3d/platform/g3d_gpu.o\
	$(BUILD_DIR)/asm/nw4r/g3d/platform/g3d_cpu.o\
	$(BUILD_DIR)/asm/nw4r/g3d/g3d_state.o\
	$(BUILD_DIR)/asm/nw4r/g3d/g3d_draw1mat1shp.o\
	$(BUILD_DIR)/asm/nw4r/g3d/g3d_calcview.o\
	$(BUILD_DIR)/asm/nw4r/g3d/g3d_dcc.o\
	$(BUILD_DIR)/asm/nw4r/g3d/g3d_workmem.o\
	$(BUILD_DIR)/asm/nw4r/g3d/g3d_calcworld.o\
	$(BUILD_DIR)/asm/nw4r/g3d/g3d_draw.o\
	$(BUILD_DIR)/asm/nw4r/g3d/g3d_camera.o\
	$(BUILD_DIR)/asm/nw4r/g3d/dcc/g3d_basic.o\
	$(BUILD_DIR)/asm/nw4r/g3d/dcc/g3d_maya.o\
	$(BUILD_DIR)/asm/nw4r/g3d/dcc/g3d_xsi.o\
	$(BUILD_DIR)/asm/nw4r/g3d/dcc/g3d_3dsmax.o\
	$(BUILD_DIR)/asm/nw4r/g3d/g3d_scnobj.o\
	$(BUILD_DIR)/asm/nw4r/g3d/g3d_scnroot.o\
	$(BUILD_DIR)/asm/nw4r/g3d/g3d_scnmdlsmpl.o\
	$(BUILD_DIR)/asm/nw4r/g3d/g3d_scnmdl.o\
	$(BUILD_DIR)/asm/nw4r/g3d/g3d_scnmdlexpand.o\
	$(BUILD_DIR)/asm/nw4r/g3d/g3d_calcmaterial.o\
	$(BUILD_DIR)/asm/nw4r/g3d/g3d_init.o\
	$(BUILD_DIR)/asm/nw4r/g3d/g3d_scnproc.o\
	$(BUILD_DIR)/asm/nw4r/g3d/g3d_fog.o\
	$(BUILD_DIR)/asm/nw4r/g3d/g3d_light.o\
	$(BUILD_DIR)/asm/nw4r/g3d/g3d_calcvtx.o\
	$(BUILD_DIR)/asm/nw4r/lyt/lyt_init.o\
	$(BUILD_DIR)/asm/nw4r/lyt/lyt_pane.o\
	$(BUILD_DIR)/asm/nw4r/lyt/lyt_group.o\
	$(BUILD_DIR)/asm/nw4r/lyt/lyt_layout.o\
	$(BUILD_DIR)/asm/nw4r/lyt/lyt_picture.o\
	$(BUILD_DIR)/asm/nw4r/lyt/lyt_textBox.o\
	$(BUILD_DIR)/asm/nw4r/lyt/lyt_window.o\
	$(BUILD_DIR)/asm/nw4r/lyt/lyt_bounding.o\
	$(BUILD_DIR)/asm/nw4r/lyt/lyt_material.o\
	$(BUILD_DIR)/asm/nw4r/lyt/lyt_texMap.o\
	$(BUILD_DIR)/asm/nw4r/lyt/lyt_drawInfo.o\
	$(BUILD_DIR)/asm/nw4r/lyt/lyt_animation.o\
	$(BUILD_DIR)/asm/nw4r/lyt/lyt_resourceAccessor.o\
	$(BUILD_DIR)/asm/nw4r/lyt/lyt_arcResourceAccessor.o\
	$(BUILD_DIR)/asm/nw4r/lyt/lyt_common.o\
	$(BUILD_DIR)/asm/nw4r/lyt/lyt_util.o\
	$(BUILD_DIR)/asm/nw4r/math/math_arithmetic.o\
	$(BUILD_DIR)/asm/nw4r/math/math_triangular.o\
	$(BUILD_DIR)/asm/nw4r/math/math_types.o\
	$(BUILD_DIR)/asm/nw4r/math/math_geometry.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_AxManager.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_AxVoice.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_AxVoiceManager.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_AxfxImpl.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_Bank.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_BankFile.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_BasicPlayer.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_BasicSound.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_BiquadFilterPreset.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_Channel.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_DisposeCallbackManager.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_EnvGenerator.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_ExternalSoundPlayer.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_FxChorusDpl2.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_FxDelayDpl2.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_FxReverbStdDpl2.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_InstancePool.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_Lfo.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_McsSoundArchive.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_MemorySoundArchive.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_MidiSeqPlayer.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_MmlParser.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_MmlSeqTrack.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_MmlSeqTrackAllocator.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_PlayerHeap.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_RemoteSpeaker.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_RemoteSpeakerManager.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_SeqFile.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_SeqPlayer.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_SeqSound.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_SeqSoundHandle.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_SeqTrack.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_SoundArchive.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_SoundArchiveFile.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_SoundArchivePlayer.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_SoundHandle.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_SoundPlayer.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_SoundStartable.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_SoundSystem.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_SoundThread.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_StrmChannel.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_StrmFile.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_StrmPlayer.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_StrmSound.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_StrmSoundHandle.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_Task.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_TaskManager.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_TaskThread.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_Voice.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_VoiceManager.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_Util.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_WaveFile.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_WaveSound.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_WaveSoundHandle.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_WsdFile.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_WsdPlayer.o\
	$(BUILD_DIR)/asm/nw4r/snd/snd_adpcm.o\
	$(BUILD_DIR)/asm/nw4r/ut/ut_LinkList.o\
	$(BUILD_DIR)/asm/nw4r/ut/ut_binaryFileFormat.o\
	$(BUILD_DIR)/asm/nw4r/ut/ut_CharStrmReader.o\
	$(BUILD_DIR)/asm/nw4r/ut/ut_TagProcessorBase.o\
	$(BUILD_DIR)/asm/nw4r/ut/ut_IOStream.o\
	$(BUILD_DIR)/asm/nw4r/ut/ut_FileStream.o\
	$(BUILD_DIR)/asm/nw4r/ut/code_8042BE14.o\
	$(BUILD_DIR)/asm/nw4r/ut/ut_LockedCache.o\
	$(BUILD_DIR)/asm/nw4r/ut/ut_Font.o\
	$(BUILD_DIR)/asm/nw4r/ut/ut_ResFontBase.o\
	$(BUILD_DIR)/asm/nw4r/ut/ut_ResFont.o\
	$(BUILD_DIR)/asm/nw4r/ut/ut_ArchiveFontBase.o\
	$(BUILD_DIR)/asm/nw4r/ut/ut_PackedFont.o\
	$(BUILD_DIR)/asm/nw4r/ut/ut_CharWriter.o\
	$(BUILD_DIR)/asm/nw4r/ut/ut_TextWriterBase.o\


#NW4R uses GC 3.0
$(NDEV_FILES): MWCC_VERSION := 3.0
$(NDEV_FILES): CONSOLE := GC

DEPENDS += $(NW4R_FILES:.o=.d)

$(BUILD_DIR)/src/nw4r/nw4r.a: $(NW4R_FILES)
	@echo Linking... $@
	$(QUIET) mkdir -p $(dir $@)
	@echo $(NW4R_FILES) > build/NW4R_ofiles
	$(QUIET) $(LD) -library $(LIBRARY_LDFLAGS) -o $@ -lcf ldscript.lcf @build/NW4R_ofiles
